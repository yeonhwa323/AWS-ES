/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=0,c=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={2:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"observability.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=o;i(i.s=60)}([function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){e.exports=n(7)(2398)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){e.exports=n(7)(1075)},function(e,t,n){e.exports=n(7)(2403)},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"u",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"t",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"k",(function(){return x})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return E}));const r="service.name",i="service.environment",a="url.full",o="user_agent.name",u="user_agent.version",s="processor.event",c="transaction.duration.us",l="transaction.type",d="system.memory.usage",f="system.cpu.usage",p="client.geo.country_name",m="url.full",b="user_agent.device.name",v="user_agent.os.name",h="user_agent.os.version",g="transaction.marks.agent.timeToFirstByte",y="transaction.marks.agent.firstContentfulPaint",_="transaction.marks.agent.largestContentfulPaint",x="transaction.experience.tbt",S="transaction.experience.fid",E="transaction.experience.cls"},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DATA_TYPE="dt",e.OPERATION_TYPE="op",e.SERIES_TYPE="st",e.BREAK_DOWN="bd",e.FILTERS="ft",e.REPORT_DEFINITIONS="rdf",e.SELECTED_METRIC="mt",e.HIDDEN="h",e.NAME="n",e.COLOR="c"}(r||(r={}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(7)(1076)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="observability:enableInspectEsQueries",i="observability:enableComparisonByDefault"},function(e,t,n){e.exports=n(7)(2400)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));n(13);const r="observabilityCases",i="observability-overview",a="observability"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);let i;function a(e,t,n={}){const{preservePreviousData:a=!0}=n,[o,u]=Object(r.useState)({data:void 0,status:i.PENDING,loading:!0}),[s,c]=Object(r.useState)(0);return Object(r.useEffect)((()=>{let t=new AbortController;return async function(){t.abort(),t=new AbortController;const n=t.signal,r=e({signal:n});if(r){u((e=>({data:a?e.data:void 0,status:i.LOADING,error:void 0,loading:!0})));try{const e=await r;n.aborted||u({data:e,status:i.SUCCESS,error:void 0})}catch(e){n.aborted||u((t=>({data:a?t.data:void 0,status:i.FAILURE,error:e,loading:!1})))}}}(),()=>{t.abort()}}),[s,...t]),Object(r.useMemo)((()=>({...o,loading:o.status===i.LOADING||o.status===i.PENDING,refetch:()=>{c((e=>e+1))}})),[o])}!function(e){e.LOADING="loading",e.SUCCESS="success",e.FAILURE="failure",e.PENDING="pending",e.NOT_INITIATED="not_initiated"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l}));const r="monitor.duration.us",i="browser.experience.cls",a="browser.experience.lcp.us",o="browser.experience.fcp.us",u="browser.experience.load.us",s="browser.experience.dcl.us",c="synthetics.step.name.keyword",l="synthetics.step.duration.us"},function(e,t,n){e.exports=n(7)(2402)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r={};function i({appName:e,fetchData:t,hasData:n}){r[e]={fetchData:t,hasData:n}}function a(e){const t=r[e];if(t)return t}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(1),i=n(31);n.d(t,"a",(function(){return i.METRIC_TYPE}));var a=n(11);function o({app:e}={}){var t,n;const o=null===(t=Object(a.useKibana)().services)||void 0===t||null===(n=t.usageCollection)||void 0===n?void 0:n.reportUiCounter;return Object(r.useMemo)((()=>({app:t=e,metric:n,metricType:r=i.METRIC_TYPE.COUNT})=>{o&&o(t,r,n)}),[e,o])}function u({app:e,metric:t,metricType:n=i.METRIC_TYPE.COUNT,delay:o=0},u=[]){var s,c;const l=null===(s=Object(a.useKibana)().services)||void 0===s||null===(c=s.usageCollection)||void 0===c?void 0:c.reportUiCounter;Object(r.useEffect)((()=>{if(l){let r=t;o>0&&(r+=`__delayed_${o}ms`);const i=setTimeout((()=>l(e,n,r)),Math.max(o,0));return()=>clearTimeout(i)}console.log("usageCollection.reportUiCounter is unavailable. Ensure this is setup via <KibanaContextProvider />.")}),u)}function s({path:e,...t},n=[]){u({...t,metric:`pageview__${e}`},n)}},function(e,t,n){e.exports=n(7)(495)},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return m}));var r=n(53),i=n.n(r),a=n(44),o=n(16),u=n(10);function s(e){const{operationType:t,seriesType:n,breakdown:r,filters:i,reportDefinitions:a,dataType:o,selectedMetricField:s,hidden:c,name:l,color:d,...f}=e;return{[u.a.OPERATION_TYPE]:t,[u.a.SERIES_TYPE]:n,[u.a.BREAK_DOWN]:r,[u.a.FILTERS]:i,[u.a.REPORT_DEFINITIONS]:a,[u.a.DATA_TYPE]:o,[u.a.SELECTED_METRIC]:s,[u.a.HIDDEN]:c,[u.a.NAME]:l,[u.a.COLOR]:d,...f}}function c({reportType:e,allSeries:t},n=""){const r=t.map((e=>s(e)));return n+`/app/observability/exploratory-view/#?reportType=${e}&sr=${i.a.encode(r)}`}function l(e,t,n){const r=null==n?void 0:n.fields.find((t=>t.name===e));return r?[o.esFilters.buildPhraseFilter(r,t,n)]:[]}function d(e,t,n){return(null==n?void 0:n.fields.find((t=>t.name===e)))&&n.id?t.map((t=>Object(a.a)({query_string:{fields:[e],query:`*${t}*`}},n.id,""))):[]}function f(e,t,n){const r=null==n?void 0:n.fields.find((t=>t.name===e));return r?1===t.length?[o.esFilters.buildPhraseFilter(r,t[0],n)]:[o.esFilters.buildPhrasesFilter(r,t,n)]:[]}function p(e,t){const n=null==t?void 0:t.fields.find((t=>t.name===e));return n?[o.esFilters.buildExistsFilter(n,t)]:[]}function m({urlFilters:e,initFilters:t,indexPattern:n}){const r=t?[...t]:[];return e.forEach((({field:e,values:t=[],notValues:i=[],wildcards:a=[],notWildcards:o=([]=[])})=>{if(t.length>0){const i=f(e,t,n);r.push(...i)}if(i.length>0){const t=f(e,i,n)[0];t.meta.negate=!0,r.push(t)}if(a.length>0){const t=d(e,a,n);r.push(...t)}if(o.length>0){const t=d(e,o,n)[0];t.meta.negate=!0,r.push(t)}})),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(18);function a(){return Object(r.useContext)(i.ThemeContext)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(30);function a(){return Object(r.useContext)(i.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(1),i=n.n(r),a=n(26),o=n(58);const u={addInspectorRequest:()=>{},inspectorAdapters:{requests:new o.RequestAdapter}},s=Object(r.createContext)(u);function c({children:e}){const t=Object(a.useHistory)(),{inspectorAdapters:n}=u;return Object(r.useEffect)((()=>{const e=t.listen((e=>{t.location.pathname!==e.pathname&&n.requests.reset()}));return()=>{e()}}),[t,n]),i.a.createElement(s.Provider,{value:{...u,addInspectorRequest:function(e){var t,r,i,a,o;(null!==(t=null!==(r=null===(i=e.data)||void 0===i?void 0:i._inspect)&&void 0!==r?r:null===(a=e.data)||void 0===a||null===(o=a.mainStatisticsData)||void 0===o?void 0:o._inspect)&&void 0!==t?t:[]).forEach((e=>{if(e.response){const{id:t,name:r}=e,i={id:t,name:r},a=n.requests.start(t,i,e.startTime);a.json(e.json),e.stats&&a.stats(e.stats),a.finish(e.status,e.response)}}))}}},e)}},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(11),i=n(49),a=n(19),o=n(29),u=n(3);function s({esRequestParams:e,esResponse:t,kibanaRequest:n}){var r;const i={...n.query?{kibanaApiQueryParameters:{label:u.i18n.translate("xpack.observability.inspector.stats.kibanaApiQueryParametersLabel",{defaultMessage:"Kibana API query parameters"}),description:u.i18n.translate("xpack.observability.inspector.stats.kibanaApiQueryParametersDescription",{defaultMessage:"The query parameters used in the Kibana API request that initiated the Elasticsearch request."}),value:JSON.stringify(n.query,null,2)}}:{},kibanaApiRoute:{label:u.i18n.translate("xpack.observability.inspector.stats.kibanaApiRouteLabel",{defaultMessage:"Kibana API route"}),description:u.i18n.translate("xpack.observability.inspector.stats.kibanaApiRouteDescription",{defaultMessage:"The route of the Kibana API request that initiated the Elasticsearch request."}),value:`${n.route.method.toUpperCase()} ${n.route.path}`},indexPattern:{label:u.i18n.translate("xpack.observability.inspector.stats.indexPatternLabel",{defaultMessage:"Index pattern"}),value:e.index,description:u.i18n.translate("xpack.observability.inspector.stats.indexPatternDescription",{defaultMessage:"The index pattern that connected to the Elasticsearch indices."})}};if(null!=t&&t.hits&&(i.hits={label:u.i18n.translate("xpack.observability.inspector.stats.hitsLabel",{defaultMessage:"Hits"}),value:`${t.hits.hits.length}`,description:u.i18n.translate("xpack.observability.inspector.stats.hitsDescription",{defaultMessage:"The number of documents returned by the query."})}),null!=t&&t.took&&(i.queryTime={label:u.i18n.translate("xpack.observability.inspector.stats.queryTimeLabel",{defaultMessage:"Query time"}),value:u.i18n.translate("xpack.observability.inspector.stats.queryTimeValue",{defaultMessage:"{queryTime}ms",values:{queryTime:t.took}}),description:u.i18n.translate("xpack.observability.inspector.stats.queryTimeDescription",{defaultMessage:"The time it took to process the query. Does not include the time to send the request or parse it in the browser."})}),void 0!==(null==t||null===(r=t.hits)||void 0===r?void 0:r.total)){let e;if("number"==typeof t.hits.total)e=t.hits.total;else{const n=t.hits.total;e="eq"===n.relation?`${n.value}`:`> ${n.value}`}i.hitsTotal={label:u.i18n.translate("xpack.observability.inspector.stats.hitsTotalLabel",{defaultMessage:"Hits (total)"}),value:e,description:u.i18n.translate("xpack.observability.inspector.stats.hitsTotalDescription",{defaultMessage:"The number of documents that match the query."})}}return i}function c({esError:e,esRequestParams:t,esRequestStatus:n,esResponse:r,kibanaRequest:i,operationName:a,startTime:o}){const u=`${a} (${i.route.path})`;return{id:u,json:t.body,name:u,response:{json:e?e.originalError:r},startTime:o,stats:s({esRequestParams:t,esResponse:r,kibanaRequest:i}),status:n}}const l=(e,t,n)=>{const{services:{data:u}}=Object(r.useKibana)(),{name:s}=null!=n?n:{},{addInspectorRequest:l}=Object(o.a)(),{data:d={},loading:f}=Object(a.b)((()=>{if(e.index){const t=Date.now();return new Promise((n=>{const r=u.search.search({params:e},{}).subscribe({next:o=>{Object(i.isCompleteResponse)(o)&&(l&&l({data:{_inspect:[c({startTime:t,esRequestParams:e,esResponse:o.rawResponse,esError:null,esRequestStatus:1,operationName:s,kibanaRequest:{route:{path:"/internal/bsearch",method:"POST"}}})]},status:a.a.SUCCESS}),n(o),r.unsubscribe())}})}))}}),[...t]),{rawResponse:p}=d;return{data:p,loading:f}};function d(e){return e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(16);n.d(t,"a",(function(){return r.UI_SETTINGS}));var i=n(11);function a(e){const{services:{uiSettings:t}}=Object(i.useKibana)();return t.get(e)}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(50),i=n.n(r);function a(e,t={}){const n=i.a.parse(e,t);if(n)return n.valueOf()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);const i=()=>Object(r.useKibana)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),i=n(1),a=n(36),o=n(26),u=n(43),s=n(33),c=n(35);function l(){const{from:e,to:t}=Object(s.b)(s.a.TIMEPICKER_TIME_DEFAULTS),{rangeFrom:n,rangeTo:r}=(a=Object(o.useLocation)().search)?Object(u.parse)("?"===a[0]?a.slice(1):a,{sort:!1}):{};var a;return Object(i.useMemo)((()=>{var i,a,o,u;return{start:null!==(i=n)&&void 0!==i?i:e,end:null!==(a=r)&&void 0!==a?a:t,absStart:Object(c.a)(null!==(o=n)&&void 0!==o?o:e),absEnd:Object(c.a)(null!==(u=r)&&void 0!==u?u:t,{roundUp:!0})}}),[n,r,e,t])}const d=e=>{var t;const n=l(),{services:{chrome:{docTitle:o,setBreadcrumbs:u},application:{getUrlForApp:s,navigateToUrl:c}}}=Object(a.a)(),d=o.change,f=null!==(t=s("observability-overview"))&&void 0!==t?t:"";Object(i.useEffect)((()=>{const t=[{text:r.i18n.translate("xpack.observability.breadcrumbs.observabilityLinkText",{defaultMessage:"Observability"}),href:f+"/overview"},...e];u&&u(function(e,t){return e.map((e=>({...e,...e.href?{onClick:n=>{t&&e.href&&(n.preventDefault(),t(e.href))}}:{}})))}(t,c)),d&&d(function(e){return e.map((({text:e})=>{var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:""})).reverse()}(t))}),[f,e,c,n,u,d])}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(1),i=n.n(r),a=n(0),o=n(6),u=n(3),s=n(18);const c="ALL_VALUES",l=(e,t)=>{const n=Array.from(new Set(t&&(null!=e?e:[]).length>0?["ALL_VALUES",...null!=e?e:[]]:e));return(null!=n?n:[]).map((e=>({label:e})))};function d({label:e,selectedValue:t,loading:n,values:s,setQuery:c,usePrependLabel:d=!0,compressed:p=!0,required:m=!0,singleSelection:b=!1,allowAllValuesSelection:v,onChange:h}){const[g,y]=Object(r.useState)((()=>{var e;return l(Object(a.union)(null!==(e=null==s?void 0:s.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),v)}));Object(r.useEffect)((()=>{var e;y(l(Object(a.union)(null!==(e=null==s?void 0:s.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),v))}),[v,t,s]);const _=i.a.createElement(o.EuiComboBox,{fullWidth:!0,singleSelection:!!b&&{asPlainText:!0},compressed:p,placeholder:u.i18n.translate("xpack.observability.fieldValueSelection.placeholder.search",{defaultMessage:"Search {label}",values:{label:e}}),isLoading:n,onSearchChange:e=>{c(e)},options:g,selectedOptions:g.filter((e=>null==t?void 0:t.includes(e.label))),onChange:e=>{h(e.map((({label:e})=>e)))},isInvalid:m&&Object(a.isEmpty)(t)});return d?i.a.createElement(f,null,i.a.createElement(o.EuiFormControlLayout,{fullWidth:!0,prepend:e,compressed:!0},_)):i.a.createElement(o.EuiFormRow,{label:e,display:"center",fullWidth:!0},_)}const f=n.n(s).a.div.withConfig({displayName:"ComboWrapper",componentId:"sc-1ajik3y-0"})(["&&&{.euiFormControlLayout{height:auto;.euiFormControlLayout__prepend{margin:auto;}.euiComboBoxPill{max-width:250px;}.euiComboBox__inputWrap{border-radius:0;}}}"])},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),i=n(28);function a(){const e=Object(i.a)().darkMode?r.EUI_CHARTS_THEME_DARK.theme:r.EUI_CHARTS_THEME_LIGHT.theme;return{...e,chartMargins:{left:10,right:10,top:10,bottom:10},background:{...e.background,color:"transparent"},lineSeriesStyle:{...e.lineSeriesStyle,point:{visible:!1}},areaSeriesStyle:{...e.areaSeriesStyle,point:{visible:!1}}}}},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){"use strict";const r=n(64),i=n(65),a=n(66);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===n?n:s(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,o]=a(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:s(o,t),n(s(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",i,"]"].join("")]:[...n,[u(t,e),"[",u(i,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const a=Object.keys(i);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?u(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):u(n,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query);let s=t.stringify(o,n);s&&(s=`?${s}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${u(e.fragmentIdentifier,n)}`),`${r}${s}${c}`}},function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return F}));var r={};n.r(r),n.d(r,"buildNode",(function(){return D})),n.d(r,"toElasticsearchQuery",(function(){return q}));var i={};n.r(i),n.d(i,"wildcardSymbol",(function(){return M})),n.d(i,"buildNode",(function(){return z})),n.d(i,"test",(function(){return Q})),n.d(i,"toElasticsearchQuery",(function(){return B})),n.d(i,"toQueryStringQuery",(function(){return K})),n.d(i,"hasLeadingWildcard",(function(){return G}));var a={};n.r(a),n.d(a,"buildNodeParams",(function(){return X})),n.d(a,"toElasticsearchQuery",(function(){return ee}));var o={};n.r(o),n.d(o,"buildNodeParams",(function(){return te})),n.d(o,"toElasticsearchQuery",(function(){return ne}));var u={};n.r(u),n.d(u,"buildNodeParams",(function(){return re})),n.d(u,"toElasticsearchQuery",(function(){return ie}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return ae})),n.d(s,"toElasticsearchQuery",(function(){return oe}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return ce})),n.d(c,"toElasticsearchQuery",(function(){return le}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return de})),n.d(l,"toElasticsearchQuery",(function(){return fe}));var d={};n.r(d),n.d(d,"buildNodeParams",(function(){return pe})),n.d(d,"toElasticsearchQuery",(function(){return me}));var f={};n.r(f),n.d(f,"buildNodeParams",(function(){return be})),n.d(f,"toElasticsearchQuery",(function(){return ve}));var p={};n.r(p),n.d(p,"buildNodeParams",(function(){return he})),n.d(p,"toElasticsearchQuery",(function(){return ge}));var m={};n.r(m),n.d(m,"buildNode",(function(){return _e})),n.d(m,"buildNodeWithArgumentNodes",(function(){return xe})),n.d(m,"toElasticsearchQuery",(function(){return Se}));var b={};n.r(b),n.d(b,"buildNode",(function(){return Ee})),n.d(b,"toElasticsearchQuery",(function(){return we}));var v,h,g=n(4),y=n.n(g),_=n(2),x=n.n(_),S=n(0),E=n.n(S),w=(n(25),function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t}),O=function(e,t){var n=w(e,t);return{script:{source:j(e),lang:e.lang,params:{value:n}}}},j=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(v||(v={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(h||(h={}));var k={gt:">",gte:">=",lte:"<=",lt:"<"},T={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},P={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},A=function(e,t){var n=Object(S.mapValues)(Object(S.pickBy)(t,(function(e,t){return t in k})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),r=Object(S.map)(n,(function(t,n){return"("+e.script+")"+Object(S.get)(k,n)+n})).join(" && ");if("painless"===e.lang){var i="date"===e.type?P:T,a=Object(S.reduce)(n,(function(e,t,n){return e.concat(Object(S.get)(i,n))}),[]).join(" "),o=Object(S.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");r="".concat(a).concat(o)}return{script:{source:r,params:n,lang:e.lang}}},C=function(e){return Object(S.has)(e,"query.exists")};var F=function(e,t,n){return{query:e,meta:{index:t,alias:n}}};var L=n(5),R=n.n(L),I=n(14),N=n.n(I);function D(e){return{type:"literal",value:e}}function q(e){return e.value}var M="@kuery-wildcard@";function U(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(e){return e.replace(/[+\-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function z(e){return e.includes(M)?{type:"wildcard",value:e}:Qe(e)}function Q(e,t){var n=e.value.split(M).map(U).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function B(e){return e.value.split(M).join("*")}function K(e){return e.value.split(M).map($).join("*")}function G(e){var t=e.value;return t.startsWith(M)&&t.replace(M,"").length>0}function H(e,t){if(!t)return[];if("literal"===e.type){var n=q(e),r=t.fields.find((function(e){return e.name===n}));return r?[r]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return Q(e,t.name)})):void 0}var V=n(42),W=n.n(V);function Y(e){var t=W.a.tz.guess();return"Browser"===e?t:e}function Z(e){return function(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function J(e,t,n){var r=x()(x()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===r.type&&!n)return r;var i=H(r,t).reduce((function(e,t){var r=Z(t),i=null==r?void 0:r.nested.path;return n&&!i?[].concat(R()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):i&&!n?[].concat(R()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):i!==n?[].concat(R()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(i.length>0)throw new Error(i.join("\n"));return r}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(S.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(S.isUndefined)(t))throw new Error("value is a required argument");return{arguments:["string"==typeof e?Qe(e):D(e),"string"==typeof t?Qe(t):D(t),D(n)]}}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=N()(e.arguments,3),a=i[0],o=i[1],u=i[2],s="wildcard"===o.type&&o.value===M,c="wildcard"===a.type&&a.value===M;if(s&&c)return{match_all:{}};var l=J(a,t,null!=r&&r.nested?r.nested.path:void 0),d=Object(S.isUndefined)(o)?o:Be(o),f=u.value?"phrase":"best_fields";if(null===l.value)return"wildcard"===o.type?{query_string:{query:K(o)}}:{multi_match:{type:f,query:d,lenient:!0}};var p=t?H(l,t):[];return p&&0===p.length&&p.push({name:Be(l),scripted:!1,type:""}),!s||null!=p&&p.length&&(null==p?void 0:p.length)!==(null==t?void 0:t.fields.length)?{bool:{should:p.reduce((function(e,t){var i=function(e){var n=Z(t);return"wildcard"!==l.type||null==n||!n.nested||null!=r&&r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(s)return[].concat(R()(e),[i({exists:{field:t.name}})]);if("wildcard"===o.type)return[].concat(R()(e),[i({query_string:{fields:[t.name],query:K(o)}})]);if("date"===t.type){var a=n.dateFormatTZ?{time_zone:Y(n.dateFormatTZ)}:{};return[].concat(R()(e),[i({range:y()({},t.name,x()({gte:d,lte:d},a))})])}var u="phrase"===f?"match_phrase":"match";return[].concat(R()(e),[i(y()({},u,y()({},t.name,d)))])}if(!s)return[].concat(R()(e),[{script:x()({},O(t,d))}])}),[])||[],minimum_should_match:1}}:{match_all:{}}}function te(e){return{arguments:e}}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.filtersInMustClause,a=e.arguments||[],o=i?"must":"filter";return{bool:y()({},o,a.map((function(e){return Be(e,t,n,r)})))}}function re(e){return{arguments:e}}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{bool:{should:(e.arguments||[]).map((function(e){return Be(e,t,n,r)})),minimum_should_match:1}}}function ae(e){return{arguments:[e]}}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=N()(e.arguments,1)[0];return{bool:{must_not:Be(i,t,n,r)}}}var ue=n(21),se=n.n(ue);function ce(e,t){var n=Object(S.pick)(t,"gt","lt","gte","lte","format"),r="string"==typeof e?Qe(e):Oe.literal.buildNode(e),i=Object(S.map)(n,(function(e,t){return Oe.namedArg.buildNode(t,e)}));return{arguments:[r].concat(R()(i))}}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=se()(e.arguments),a=i[0],o=i.slice(1),u=J(a,t,null!=r&&r.nested?r.nested.path:void 0),s=t?H(u,t):[],c=function(e){if(e.gt&&e.gte||e.lt&&e.lte)throw new Error("range ends cannot be both inclusive and exclusive");var t=["gte","lte","format"];return e.reduce((function(e,n,r){return"namedArg"===n.type?e[n.name]=n.value:e[t[r]]=n,e}),{})}(o),l=Object(S.mapValues)(c,(function(e){return Be(e)}));return s&&0===s.length&&s.push({name:Be(u),scripted:!1,type:""}),{bool:{should:s.map((function(e){var t=function(t){var n=Z(e);return"wildcard"!==u.type||null==n||!n.nested||r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}};if(e.scripted)return{script:A(e,l)};if("date"===e.type){var i=n.dateFormatTZ?{time_zone:Y(n.dateFormatTZ)}:{};return t({range:y()({},e.name,x()(x()({},l),i))})}return t({range:y()({},e.name,l)})})),minimum_should_match:1}}}function de(e){return{arguments:[D(e)]}}function fe(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=N()(e.arguments,1)[0],a=q(x()(x()({},i),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(i.value):i.value})),o=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===a}));if(null!=o&&o.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:a}}}function pe(e,t){t=E.a.pick(t,"topLeft","bottomRight");var n=Oe.literal.buildNode(e),r=E.a.map(t,(function(e,t){var n="".concat(e.lat,", ").concat(e.lon);return Oe.namedArg.buildNode(t,n)}));return{arguments:[n].concat(R()(r))}}function me(e,t){var n,r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=se()(e.arguments),o=a[0],u=a.slice(1),s=x()(x()({},o),{},{value:null!=i&&i.nested?"".concat(i.nested.path,".").concat(o.value):o.value}),c=Oe.literal.toElasticsearchQuery(s),l=(null!==(n=null==t?void 0:t.fields)&&void 0!==n?n:[]).find((function(e){return e.name===c})),d=u.reduce((function(e,t){var n=E.a.snakeCase(t.name);return x()(x()({},e),{},y()({},n,Be(t)))}),{});if(null!=l&&l.scripted)throw new Error("Geo bounding box query does not support scripted fields");return{geo_bounding_box:(r={},y()(r,c,d),y()(r,"ignore_unmapped",!0),r)}}function be(e,t){var n=Oe.literal.buildNode(e),r=t.map((function(e){var t="".concat(e.lat,", ").concat(e.lon);return Oe.literal.buildNode(t)}));return{arguments:[n].concat(R()(r))}}function ve(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=se()(e.arguments),u=o[0],s=o.slice(1),c=x()(x()({},u),{},{value:null!=a&&a.nested?"".concat(a.nested.path,".").concat(u.value):u.value}),l=Oe.literal.toElasticsearchQuery(c),d=(null!==(n=null==t?void 0:t.fields)&&void 0!==n?n:[]).find((function(e){return e.name===l})),f={points:s.map((function(e){return Be(e,t,i,a)}))};if(null!=d&&d.scripted)throw new Error("Geo polygon query does not support scripted fields");return{geo_polygon:(r={},y()(r,l,f),y()(r,"ignore_unmapped",!0),r)}}function he(e,t){return{arguments:["string"==typeof e?Qe(e):D(e),t]}}function ge(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=N()(e.arguments,2),o=a[0],u=a[1],s=Be(o),c=null!=i&&null!==(n=i.nested)&&void 0!==n&&n.path?"".concat(i.nested.path,".").concat(s):s;return{nested:{path:c,query:Be(u,t,r,x()(x()({},i),{},{nested:{path:c}})),score_mode:"none"}}}var ye={is:a,and:o,or:u,not:s,range:c,exists:l,geoBoundingBox:d,geoPolygon:f,nested:p};function _e(e){var t=ye[e];if(E.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return x()({type:"function",function:e},t.buildNodeParams.apply(t,r))}function xe(e,t){if(E.a.isUndefined(ye[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function Se(e,t,n,r){return ye[e.function].toElasticsearchQuery(e,t,n,r)}function Ee(e,t){return{type:"namedArg",name:e,value:"literal"===E.a.get(t,"type")?t:Oe.literal.buildNode(t)}}function we(e){return Be(e.value)}var Oe={function:m,literal:r,namedArg:b,wildcard:i},je=n(54),ke=n.n(je),Te=n(55),Pe=n.n(Te),Ae=n(46),Ce=n.n(Ae),Fe=n(56),Le=n.n(Fe),Re=n(57),Ie=n.n(Re),Ne=n(47),De=n.n(Ne),qe=n(3),Me=qe.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Ue={fieldName:qe.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:qe.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:qe.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:qe.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},$e=(Error,n(48)),ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,x()(x()({},t),{},{helpers:{nodeTypes:Oe}}))},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ze(e,x()(x()({},t),{},{startRule:"Literal"}),$e.parse)},Be=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return t&&t.type&&Oe[t.type]?Oe[t.type].toElasticsearchQuery(t,n,r,i):e(Oe.function.buildNode("and",[]),n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(52);let i=()=>{throw new Error("callObservabilityApi has not been initialized via createCallObservabilityApi")};function a(e){i=t=>{const{params:{path:n,body:i,query:a}={},endpoint:o,...u}=t,{method:s,pathname:c}=Object(r.formatRequest)(o,n);return e[s](c,{...u,body:i,query:a})}}},function(e,t,n){e.exports=n(7)(1071)},function(e,t,n){e.exports=n(7)(2406)},function(e,t,n){"use strict";function r(e,t,n,i){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,r.prototype),a.expected=t,a.found=n,a.location=i,a.name="SyntaxError",a}function i(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,o=this.location.source+":"+a.line+":"+a.column;if(r){var u=this.location.end,s=i("",a.line.toString().length),c=r[a.line-1],l=a.line===u.line?u.column:c.length+1;t+="\n --\x3e "+o+"\n"+s+" |\n"+a.line+" | "+c+"\n"+s+" | "+i("",a.column-1)+i("",l-a.column,"^")}else t+="\n at "+o}return t},r.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){var n,i={},a=(t=void 0!==t?t:{}).grammarSource,o={start:at,Literal:gt},u=at,s="(",c=")",l=":",d="{",f="}",p="or",m="and",b="not",v='"',h="\\",g="*",y="\\t",_="\\r",x="\\n",S="u",E="<=",w=">=",O="<",j=">",k="@kuery-cursor@",T=/^[\\"]/,P=/^[^"]/,A=/^[\\():<>"*{}]/,C=/^[0-9a-f]/i,F=/^[ \t\r\n\xA0]/,L=Je("(",!1),R=Je(")",!1),I=Je(":",!1),N=Je("{",!1),D=Je("}",!1),q=et("fieldName"),M=et("value"),U=et("OR"),$=Je("or",!0),z=et("AND"),Q=Je("and",!0),B=et("NOT"),K=Je("not",!0),G=et("literal"),H=Je('"',!1),V=Je("\\",!1),W=Xe(["\\",'"'],!1,!1),Y=Xe(['"'],!0,!1),Z={type:"any"},J=Je("*",!1),X=Je("\\t",!1),ee=Je("\\r",!1),te=Je("\\n",!1),ne=Xe(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),re=Je("u",!1),ie=Xe([["0","9"],["a","f"]],!1,!0),ae=Je("<=",!1),oe=Je(">=",!1),ue=Je("<",!1),se=Je(">",!1),ce=et("whitespace"),le=Xe([" ","\t","\r","\n"," "],!1,!1),de=Je("@kuery-cursor@",!1),fe=function(e,t){return"cursor"===t.type?{...t,suggestionTypes:["conjunction"]}:null!==e?e:Lt.function.buildNode("is","*","*")},pe=function(e,t){return t},me=function(e,t){const n=[e,...t],r=At&&n.find((e=>"cursor"===e.type));return r||Rt("or",n)},be=function(e,t){const n=[e,...t],r=At&&n.find((e=>"cursor"===e.type));return r||Rt("and",n)},ve=function(e){return"cursor"===e.type?e:Rt("not",[e])},he=function(e,t){return"cursor"===t.type?{...t,suggestionTypes:["conjunction"]}:e},ge=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:Rt("nested",[e,t])},ye=function(e,t,n){if("cursor"===n.type)return{...n,suggestionTypes:["conjunction"]};const r=Dt(t,n);return Rt("range",[e,r])},_e=function(e,t){return"cursor"===t.type?{...t,fieldName:e.value,suggestionTypes:["value","conjunction"]}:t(e)},xe=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(It(null))},Se=function(e,t){return"cursor"===t.type?{...t,suggestionTypes:["conjunction"]}:e},Ee=function(e,t){return t},we=function(e,t){const n=[e,...t],r=At&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Rt("or",n.map((t=>t(e))))},Oe=function(e,t){const n=[e,...t],r=At&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Rt("and",n.map((t=>t(e))))},je=function(e){return"cursor"===e.type?{...list,suggestionTypes:["value"]}:t=>Rt("not",[e(t)])},ke=function(e){if("cursor"===e.type)return e;const t=It(!0);return n=>Rt("is",[n,e,t])},Te=function(e){if("cursor"===e.type)return e;!Ft&&"wildcard"===e.type&&Lt.wildcard.hasLeadingWildcard(e)&&function(e,t){throw t=void 0!==t?t:nt(He,Ge),function(e,t){return new r(e,null,null,t)}(e,t)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const t=It(!1);return n=>Rt("is",[n,e,t])},Pe=function(){return At},Ae=function(t,n,r){const{start:i,end:a}=nt(He,Ge);return{type:"cursor",start:i.offset,end:a.offset-n.length,prefix:t.join(""),suffix:r.join(""),text:e.substring(He,Ge).replace(n,"")}},Ce=function(e){return It(e.join(""))},Fe=function(e){return e},Le=function(e){const t=e.join("").trim();return"null"===t?It(null):"true"===t?It(!0):"false"===t?It(!1):e.includes(qt)?Nt(t):It(t)},Re=function(){return qt},Ie=function(){return"\t"},Ne=function(){return"\r"},De=function(){return"\n"},qe=function(e){return e},Me=function(e){return e},Ue=function(e){return String.fromCharCode(parseInt(e,16))},$e=function(){return"lte"},ze=function(){return"gte"},Qe=function(){return"lt"},Be=function(){return"gt"},Ke=function(){return Ct},Ge=0,He=0,Ve=[{line:1,column:1}],We=0,Ye=[],Ze=0;if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=o[t.startRule]}function Je(e,t){return{type:"literal",text:e,ignoreCase:t}}function Xe(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function et(e){return{type:"other",description:e}}function tt(t){var n,r=Ve[t];if(r)return r;for(n=t-1;!Ve[n];)n--;for(r={line:(r=Ve[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Ve[t]=r,r}function nt(e,t){var n=tt(e),r=tt(t);return{source:a,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function rt(e){Ge<We||(Ge>We&&(We=Ge,Ye=[]),Ye.push(e))}function it(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function at(){var e,t,n,r;for(e=Ge,t=[],n=Tt();n!==i;)t.push(n),n=Tt();return(n=ot())===i&&(n=null),(r=Et())!==i?(He=e,e=fe(n,r)):(Ge=e,e=i),e}function ot(){var e,t,n,r,a;if(e=Ge,(t=ut())!==i){if(n=[],r=Ge,bt()!==i&&(a=ut())!==i?(He=r,r=pe(t,a)):(Ge=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ge,bt()!==i&&(a=ut())!==i?(He=r,r=pe(t,a)):(Ge=r,r=i);else n=i;n!==i?(He=e,e=me(t,n)):(Ge=e,e=i)}else Ge=e,e=i;return e===i&&(e=ut()),e}function ut(){var e,t,n,r,a;if(e=Ge,(t=st())!==i){if(n=[],r=Ge,vt()!==i&&(a=st())!==i?(He=r,r=pe(t,a)):(Ge=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ge,vt()!==i&&(a=st())!==i?(He=r,r=pe(t,a)):(Ge=r,r=i);else n=i;n!==i?(He=e,e=be(t,n)):(Ge=e,e=i)}else Ge=e,e=i;return e===i&&(e=st()),e}function st(){var e,t;return e=Ge,ht()!==i&&(t=ct())!==i?(He=e,e=ve(t)):(Ge=e,e=i),e===i&&(e=ct()),e}function ct(){var t,n,r,a,o,u;if(t=Ge,40===e.charCodeAt(Ge)?(n=s,Ge++):(n=i,0===Ze&&rt(L)),n!==i){for(r=[],a=Tt();a!==i;)r.push(a),a=Tt();(a=ot())!==i&&(o=Et())!==i?(41===e.charCodeAt(Ge)?(u=c,Ge++):(u=i,0===Ze&&rt(R)),u!==i?(He=t,t=he(a,o)):(Ge=t,t=i)):(Ge=t,t=i)}else Ge=t,t=i;return t===i&&(t=function(){var t,n,r,a,o,u,s,c,p,m;if(t=Ge,n=lt(),n!==i){for(r=[],a=Tt();a!==i;)r.push(a),a=Tt();if(58===e.charCodeAt(Ge)?(a=l,Ge++):(a=i,0===Ze&&rt(I)),a!==i){for(o=[],u=Tt();u!==i;)o.push(u),u=Tt();if(123===e.charCodeAt(Ge)?(u=d,Ge++):(u=i,0===Ze&&rt(N)),u!==i){for(s=[],c=Tt();c!==i;)s.push(c),c=Tt();(c=ot())!==i&&(p=Et())!==i?(125===e.charCodeAt(Ge)?(m=f,Ge++):(m=i,0===Ze&&rt(D)),m!==i?(He=t,t=ge(n,c,p)):(Ge=t,t=i)):(Ge=t,t=i)}else Ge=t,t=i}else Ge=t,t=i}else Ge=t,t=i;t===i&&(t=function(){var t;t=function(){var t,n,r,a,o,u;if(t=Ge,n=lt(),n!==i){for(r=[],a=Tt();a!==i;)r.push(a),a=Tt();if(a=function(){var t,n;t=Ge,e.substr(Ge,2)===E?(n=E,Ge+=2):(n=i,0===Ze&&rt(ae));n!==i&&(He=t,n=$e());t=n,t===i&&(t=Ge,e.substr(Ge,2)===w?(n=w,Ge+=2):(n=i,0===Ze&&rt(oe)),n!==i&&(He=t,n=ze()),(t=n)===i&&(t=Ge,60===e.charCodeAt(Ge)?(n=O,Ge++):(n=i,0===Ze&&rt(ue)),n!==i&&(He=t,n=Qe()),(t=n)===i&&(t=Ge,62===e.charCodeAt(Ge)?(n=j,Ge++):(n=i,0===Ze&&rt(se)),n!==i&&(He=t,n=Be()),t=n)));return t}(),a!==i){for(o=[],u=Tt();u!==i;)o.push(u),u=Tt();(u=gt())!==i?(He=t,t=ye(n,a,u)):(Ge=t,t=i)}else Ge=t,t=i}else Ge=t,t=i;return t}(),t===i&&(t=function(){var t,n,r,a,o,u;if(t=Ge,n=lt(),n!==i){for(r=[],a=Tt();a!==i;)r.push(a),a=Tt();if(58===e.charCodeAt(Ge)?(a=l,Ge++):(a=i,0===Ze&&rt(I)),a!==i){for(o=[],u=Tt();u!==i;)o.push(u),u=Tt();(u=dt())!==i?(He=t,t=_e(n,u)):(Ge=t,t=i)}else Ge=t,t=i}else Ge=t,t=i;return t}(),t===i&&(t=function(){var e,t;e=Ge,t=mt(),t!==i&&(He=e,t=xe(t));return e=t,e}()));return t}());return t}()),t}function lt(){var e;return Ze++,e=gt(),Ze--,e===i&&(i,0===Ze&&rt(q)),e}function dt(){var t,n,r,a,o,u;if(t=Ge,40===e.charCodeAt(Ge)?(n=s,Ge++):(n=i,0===Ze&&rt(L)),n!==i){for(r=[],a=Tt();a!==i;)r.push(a),a=Tt();a=function(){var e,t,n,r,a;if(e=Ge,t=ft(),t!==i){if(n=[],r=Ge,bt()!==i&&(a=ft())!==i?(He=r,r=Ee(t,a)):(Ge=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ge,bt()!==i&&(a=ft())!==i?(He=r,r=Ee(t,a)):(Ge=r,r=i);else n=i;n!==i?(He=e,e=we(t,n)):(Ge=e,e=i)}else Ge=e,e=i;e===i&&(e=ft());return e}(),a!==i&&(o=Et())!==i?(41===e.charCodeAt(Ge)?(u=c,Ge++):(u=i,0===Ze&&rt(R)),u!==i?(He=t,t=Se(a,o)):(Ge=t,t=i)):(Ge=t,t=i)}else Ge=t,t=i;return t===i&&(t=mt()),t}function ft(){var e,t,n,r,a;if(e=Ge,(t=pt())!==i){if(n=[],r=Ge,vt()!==i&&(a=pt())!==i?(He=r,r=Ee(t,a)):(Ge=r,r=i),r!==i)for(;r!==i;)n.push(r),r=Ge,vt()!==i&&(a=pt())!==i?(He=r,r=Ee(t,a)):(Ge=r,r=i);else n=i;n!==i?(He=e,e=Oe(t,n)):(Ge=e,e=i)}else Ge=e,e=i;return e===i&&(e=pt()),e}function pt(){var e,t;return e=Ge,ht()!==i&&(t=dt())!==i?(He=e,e=je(t)):(Ge=e,e=i),e===i&&(e=dt()),e}function mt(){var e,t;return Ze++,e=Ge,(t=yt())!==i&&(He=e,t=ke(t)),(e=t)===i&&(e=Ge,(t=xt())!==i&&(He=e,t=Te(t)),e=t),Ze--,e===i&&(t=i,0===Ze&&rt(M)),e}function bt(){var t,n,r,a,o;if(Ze++,t=Ge,n=[],(r=Tt())!==i)for(;r!==i;)n.push(r),r=Tt();else n=i;if(n!==i)if(e.substr(Ge,2).toLowerCase()===p?(r=e.substr(Ge,2),Ge+=2):(r=i,0===Ze&&rt($)),r!==i){if(a=[],(o=Tt())!==i)for(;o!==i;)a.push(o),o=Tt();else a=i;a!==i?t=n=[n,r,a]:(Ge=t,t=i)}else Ge=t,t=i;else Ge=t,t=i;return Ze--,t===i&&(n=i,0===Ze&&rt(U)),t}function vt(){var t,n,r,a,o;if(Ze++,t=Ge,n=[],(r=Tt())!==i)for(;r!==i;)n.push(r),r=Tt();else n=i;if(n!==i)if(e.substr(Ge,3).toLowerCase()===m?(r=e.substr(Ge,3),Ge+=3):(r=i,0===Ze&&rt(Q)),r!==i){if(a=[],(o=Tt())!==i)for(;o!==i;)a.push(o),o=Tt();else a=i;a!==i?t=n=[n,r,a]:(Ge=t,t=i)}else Ge=t,t=i;else Ge=t,t=i;return Ze--,t===i&&(n=i,0===Ze&&rt(z)),t}function ht(){var t,n,r,a;if(Ze++,t=Ge,e.substr(Ge,3).toLowerCase()===b?(n=e.substr(Ge,3),Ge+=3):(n=i,0===Ze&&rt(K)),n!==i){if(r=[],(a=Tt())!==i)for(;a!==i;)r.push(a),a=Tt();else r=i;r!==i?t=n=[n,r]:(Ge=t,t=i)}else Ge=t,t=i;return Ze--,t===i&&(n=i,0===Ze&&rt(B)),t}function gt(){var e;return Ze++,(e=yt())===i&&(e=xt()),Ze--,e===i&&(i,0===Ze&&rt(G)),e}function yt(){var t,n,r,a,o,u,s;if(t=Ge,He=Ge,(n=(n=Pe())?void 0:i)!==i)if(34===e.charCodeAt(Ge)?(r=v,Ge++):(r=i,0===Ze&&rt(H)),r!==i){for(a=[],o=_t();o!==i;)a.push(o),o=_t();if((o=Pt())!==i){for(u=[],s=_t();s!==i;)u.push(s),s=_t();34===e.charCodeAt(Ge)?(s=v,Ge++):(s=i,0===Ze&&rt(H)),s!==i?(He=t,t=Ae(a,o,u)):(Ge=t,t=i)}else Ge=t,t=i}else Ge=t,t=i;else Ge=t,t=i;if(t===i)if(t=Ge,34===e.charCodeAt(Ge)?(n=v,Ge++):(n=i,0===Ze&&rt(H)),n!==i){for(r=[],a=_t();a!==i;)r.push(a),a=_t();34===e.charCodeAt(Ge)?(a=v,Ge++):(a=i,0===Ze&&rt(H)),a!==i?(He=t,t=Ce(r)):(Ge=t,t=i)}else Ge=t,t=i;return t}function _t(){var t,n,r;return(t=wt())===i&&(t=jt())===i&&(t=Ge,92===e.charCodeAt(Ge)?(n=h,Ge++):(n=i,0===Ze&&rt(V)),n!==i?(T.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=i,0===Ze&&rt(W)),r!==i?(He=t,t=Fe(r)):(Ge=t,t=i)):(Ge=t,t=i),t===i&&(t=Ge,n=Ge,Ze++,r=Pt(),Ze--,r===i?n=void 0:(Ge=n,n=i),n!==i?(P.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=i,0===Ze&&rt(Y)),r!==i?(He=t,t=Fe(r)):(Ge=t,t=i)):(Ge=t,t=i))),t}function xt(){var e,t,n,r,a,o;if(e=Ge,He=Ge,(t=(t=Pe())?void 0:i)!==i){for(n=[],r=St();r!==i;)n.push(r),r=St();if((r=Pt())!==i){for(a=[],o=St();o!==i;)a.push(o),o=St();He=e,e=Ae(n,r,a)}else Ge=e,e=i}else Ge=e,e=i;if(e===i){if(e=Ge,t=[],(n=St())!==i)for(;n!==i;)t.push(n),n=St();else t=i;t!==i&&(He=e,t=Le(t)),e=t}return e}function St(){var t,n,r,a,o;return(t=wt())===i&&(t=function(){var t,n,r;t=Ge,92===e.charCodeAt(Ge)?(n=h,Ge++):(n=i,0===Ze&&rt(V));n!==i&&(r=Ot())!==i?(He=t,t=Fe(r)):(Ge=t,t=i);return t}(),t===i&&(t=jt())===i&&(t=function(){var t,n,r;t=Ge,92===e.charCodeAt(Ge)?(n=h,Ge++):(n=i,0===Ze&&rt(V));n!==i?(e.substr(Ge,2).toLowerCase()===p?(r=e.substr(Ge,2),Ge+=2):(r=i,0===Ze&&rt($)),r===i&&(e.substr(Ge,3).toLowerCase()===m?(r=e.substr(Ge,3),Ge+=3):(r=i,0===Ze&&rt(Q)),r===i&&(e.substr(Ge,3).toLowerCase()===b?(r=e.substr(Ge,3),Ge+=3):(r=i,0===Ze&&rt(K)))),r!==i?(He=t,t=qe(r)):(Ge=t,t=i)):(Ge=t,t=i);return t}(),t===i&&(t=function(){var t,n;t=Ge,42===e.charCodeAt(Ge)?(n=g,Ge++):(n=i,0===Ze&&rt(J));n!==i&&(He=t,n=Re());return t=n,t}(),t===i&&(t=Ge,n=Ge,Ze++,r=Ot(),Ze--,r===i?n=void 0:(Ge=n,n=i),n!==i?(r=Ge,Ze++,a=function(){var e;e=bt(),e===i&&(e=vt())===i&&(e=ht());return e}(),Ze--,a===i?r=void 0:(Ge=r,r=i),r!==i?(a=Ge,Ze++,o=Pt(),Ze--,o===i?a=void 0:(Ge=a,a=i),a!==i?(e.length>Ge?(o=e.charAt(Ge),Ge++):(o=i,0===Ze&&rt(Z)),o!==i?(He=t,t=Fe(o)):(Ge=t,t=i)):(Ge=t,t=i)):(Ge=t,t=i)):(Ge=t,t=i))))),t}function Et(){var e,t,n,r,a,o;if(e=Ge,He=Ge,(t=(t=Pe())?void 0:i)!==i){for(n=[],r=Tt();r!==i;)n.push(r),r=Tt();if((r=Pt())!==i){for(a=[],o=Tt();o!==i;)a.push(o),o=Tt();He=e,e=Ae(n,r,a)}else Ge=e,e=i}else Ge=e,e=i;if(e===i)for(e=[],t=Tt();t!==i;)e.push(t),t=Tt();return e}function wt(){var t,n;return t=Ge,e.substr(Ge,2)===y?(n=y,Ge+=2):(n=i,0===Ze&&rt(X)),n!==i&&(He=t,n=Ie()),(t=n)===i&&(t=Ge,e.substr(Ge,2)===_?(n=_,Ge+=2):(n=i,0===Ze&&rt(ee)),n!==i&&(He=t,n=Ne()),(t=n)===i&&(t=Ge,e.substr(Ge,2)===x?(n=x,Ge+=2):(n=i,0===Ze&&rt(te)),n!==i&&(He=t,n=De()),t=n)),t}function Ot(){var t;return A.test(e.charAt(Ge))?(t=e.charAt(Ge),Ge++):(t=i,0===Ze&&rt(ne)),t}function jt(){var t,n,r;return t=Ge,92===e.charCodeAt(Ge)?(n=h,Ge++):(n=i,0===Ze&&rt(V)),n!==i?(r=function(){var t,n,r,a,o,u,s,c;t=Ge,117===e.charCodeAt(Ge)?(n=S,Ge++):(n=i,0===Ze&&rt(re));n!==i?(r=Ge,a=Ge,(o=kt())!==i&&(u=kt())!==i&&(s=kt())!==i&&(c=kt())!==i?a=o=[o,u,s,c]:(Ge=a,a=i),(r=a!==i?e.substring(r,Ge):a)!==i?(He=t,t=Ue(r)):(Ge=t,t=i)):(Ge=t,t=i);return t}(),r!==i?(He=t,t=Me(r)):(Ge=t,t=i)):(Ge=t,t=i),t}function kt(){var t;return C.test(e.charAt(Ge))?(t=e.charAt(Ge),Ge++):(t=i,0===Ze&&rt(ie)),t}function Tt(){var t;return Ze++,F.test(e.charAt(Ge))?(t=e.charAt(Ge),Ge++):(t=i,0===Ze&&rt(le)),Ze--,t===i&&(i,0===Ze&&rt(ce)),t}function Pt(){var t,n;return t=Ge,He=Ge,(Pe()?void 0:i)!==i?(e.substr(Ge,14)===k?(n=k,Ge+=14):(n=i,0===Ze&&rt(de)),n!==i?(He=t,t=Ke()):(Ge=t,t=i)):(Ge=t,t=i),t}const{parseCursor:At,cursorSymbol:Ct,allowLeadingWildcards:Ft=!0,helpers:{nodeTypes:Lt}}=t,Rt=Lt.function.buildNodeWithArgumentNodes,It=Lt.literal.buildNode,Nt=Lt.wildcard.buildNode,Dt=Lt.namedArg.buildNode,{wildcardSymbol:qt}=Lt.wildcard;if((n=u())!==i&&Ge===e.length)return n;throw n!==i&&Ge<e.length&&rt({type:"end"}),it(Ye,We<e.length?e.charAt(We):null,We<e.length?nt(We,We+1):nt(We,We))}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(7)(114)},function(e,t,n){"use strict";n.d(t,"a",(function(){return observability_index_patterns_ObservabilityIndexPatterns}));var r=n(4),i=n.n(r),a=n(40),o=n(9);const u=[{field:o.l,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"asSeconds",showSuffix:!0,outputPrecision:1,useShortSuffix:!0}}},{field:o.c,format:{id:"duration",params:{inputFormat:"milliseconds",outputFormat:"humanizePrecise",showSuffix:!0,useShortSuffix:!0}}},{field:o.e,format:{id:"duration",params:{inputFormat:"milliseconds",outputFormat:"humanizePrecise",showSuffix:!0,useShortSuffix:!0}}},{field:o.k,format:{id:"duration",params:{inputFormat:"milliseconds",outputFormat:"humanizePrecise",showSuffix:!0,useShortSuffix:!0}}},{field:o.d,format:{id:"duration",params:{inputFormat:"milliseconds",outputFormat:"humanizePrecise",showSuffix:!0,useShortSuffix:!0}}},{field:o.m,format:{id:"duration",params:{inputFormat:"milliseconds",outputFormat:"humanizePrecise",showSuffix:!0,useShortSuffix:!0}}}];var s=n(20);const c=[{field:"monitor.duration.us",format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}},{field:s.g,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}},{field:s.f,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}},{field:s.e,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}},{field:s.d,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}},{field:s.c,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"humanizePrecise",outputPrecision:1,showSuffix:!0,useShortSuffix:!0}}}],l=[{field:o.l,format:{id:"duration",params:{inputFormat:"microseconds",outputFormat:"asMilliseconds",outputPrecision:0,showSuffix:!0,useShortSuffix:!0}}},{field:o.g,format:{id:"bytes",params:{}}},{field:o.f,format:{id:"percent",params:{}}}];var d=n(23);const f={infra_logs:null,infra_metrics:null,ux:u,apm:l,synthetics:c,mobile:l};const p={synthetics:"synthetics_static_index_pattern_id",apm:"apm_static_index_pattern_id",ux:"rum_static_index_pattern_id",infra_logs:"infra_logs_static_index_pattern_id",infra_metrics:"infra_metrics_static_index_pattern_id",mobile:"mobile_static_index_pattern_id"},m={synthetics:"(synthetics-data-view)*",apm:"apm-*",ux:"(rum-data-view)*",infra_logs:"",infra_metrics:"",mobile:"(mobile-data-view)*"},b=(e,t)=>`${m[e]},${t}`,v=(e,t)=>{const n=t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase();return`${p[e]}_${n}`};class observability_index_patterns_ObservabilityIndexPatterns{constructor(e){i()(this,"data",void 0),this.data=e}async createIndexPattern(e,t){if(!this.data)throw new Error("data is not defined");const n=b(e,t);return await this.data.indexPatterns.createAndSave({title:n,id:v(e,t),timeFieldName:"@timestamp",fieldFormats:this.getFieldFormats(e)})}async validateFieldFormats(e,t){const n=function(e){return f[e]}(e);if(n&&n.length>0){let e=!1;var r;if(n.forEach((({field:n,format:r})=>{const i=t.getFieldByName(n);if(i){(function(e,t){const n=(null==e?void 0:e.inputFormat)===(null==t?void 0:t.inputFormat)&&(null==e?void 0:e.outputFormat)===(null==t?void 0:t.outputFormat)&&(null==e?void 0:e.useShortSuffix)===(null==t?void 0:t.useShortSuffix)&&(null==e?void 0:e.showSuffix)===(null==t?void 0:t.showSuffix);return void 0!==t.outputPrecision?(null==t?void 0:t.outputPrecision)===(null==e?void 0:e.outputPrecision)&&n:n})(t.getFormatterForField(i).params(),r.params)||(t.setFieldFormat(n,r),e=!0)}})),e)await(null===(r=this.data)||void 0===r?void 0:r.indexPatterns.updateSavedObject(t))}}getFieldFormats(e){var t;const n={};return(null!==(t=null==f?void 0:f[e])&&void 0!==t?t:[]).forEach((({field:e,format:t})=>{n[e]=t})),n}async getDataTypeIndices(e){var t,n;switch(e){case"ux":case"synthetics":const r=await(null===(t=Object(d.a)(e))||void 0===t?void 0:t.hasData());return null==r?void 0:r.indices;case"apm":case"mobile":const i=await(null===(n=Object(d.a)("apm"))||void 0===n?void 0:n.hasData());return null==i?void 0:i.indices.transaction}}async getIndexPattern(e,t){if(!this.data)throw new Error("data is not defined");let n=t;if(n||(n=await this.getDataTypeIndices(e)),n)try{var r;const t=v(e,n),i=b(e,n),a=await(null===(r=this.data)||void 0===r?void 0:r.indexPatterns.get(t));return a.title!==i?await this.createIndexPattern(e,n):(this.validateFieldFormats(e,a),a)}catch(t){if(Object(a.isSavedObjectNotFoundError)(t))return await this.createIndexPattern(e,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRequest=function(e,t={}){const{method:n,pathname:i}=(0,r.parseEndpoint)(e),a=Object.keys(t).reduce(((e,n)=>e.replace(`{${n}}`,t[n])),i);return{method:n,pathname:a}};var r=n(62)},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){var r=n(63);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(7)(2387)},function(e,t,n){e.exports=n(7)(2396)},function(e,t,n){e.exports=n(7)(2392)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/inspector/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.r(t),n.d(t,"enableInspectEsQueries",(function(){return L.b})),n.d(t,"plugin",(function(){return ee})),n.d(t,"SectionTitle",(function(){return I})),n.d(t,"SectionSubtitle",(function(){return N})),n.d(t,"SectionLinks",(function(){return D})),n.d(t,"SectionSpacer",(function(){return q})),n.d(t,"Section",(function(){return M})),n.d(t,"SectionLink",(function(){return U})),n.d(t,"ActionMenuDivider",(function(){return $})),n.d(t,"ActionMenu",(function(){return z})),n.d(t,"getCoreVitalsComponent",(function(){return h})),n.d(t,"HeaderMenuPortal",(function(){return y})),n.d(t,"FieldValueSuggestions",(function(){return x})),n.d(t,"FilterValueLabel",(function(){return E})),n.d(t,"SelectableUrlList",(function(){return O})),n.d(t,"useTrackPageview",(function(){return Q.c})),n.d(t,"useUiTracker",(function(){return Q.d})),n.d(t,"useTrackMetric",(function(){return Q.b})),n.d(t,"METRIC_TYPE",(function(){return Q.a})),n.d(t,"LazyAlertsFlyout",(function(){return te})),n.d(t,"useFetcher",(function(){return B.b})),n.d(t,"FETCH_STATUS",(function(){return B.a})),n.d(t,"useEsSearch",(function(){return K.b})),n.d(t,"createEsParams",(function(){return K.a})),n.d(t,"useChartTheme",(function(){return G.a})),n.d(t,"useBreadcrumbs",(function(){return H.a})),n.d(t,"useTheme",(function(){return V.a})),n.d(t,"getApmTraceUrl",(function(){return W})),n.d(t,"createExploratoryViewUrl",(function(){return F.e})),n.d(t,"ALL_VALUES_SELECTED",(function(){return Y.a})),n.d(t,"createObservabilityRuleTypeRegistryMock",(function(){return Z})),n.d(t,"InspectorContextProvider",(function(){return J.b})),n.d(t,"useInspectorContext",(function(){return X.a})),n.d(t,"enableComparisonByDefault",(function(){return L.a}));var r=n(1),i=n.n(r),a=n(4),o=n.n(a),u=n(3),s=n(22),c=n(17),l=n(8),d=n(15),f=n(6),p=n(12),m=n.n(p);const b=i.a.lazy((()=>n.e(6).then(n.bind(null,157))));const v=Object(r.lazy)((()=>n.e(7).then(n.bind(null,113))));function h(e){return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(v,e))}const g=Object(r.lazy)((()=>n.e(10).then(n.bind(null,102))));function y(e){return i.a.createElement(r.Suspense,{fallback:i.a.createElement(f.EuiLoadingSpinner,null)},i.a.createElement(g,e))}const _=Object(r.lazy)((()=>n.e(5).then(n.bind(null,103))));function x(e){return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(_,e))}const S=Object(r.lazy)((()=>n.e(9).then(n.bind(null,111))));function E(e){return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(S,e))}const w=Object(r.lazy)((()=>n.e(4).then(n.bind(null,114))));function O(e){return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(w,e))}var j=n(23);var k=n(45);var T=n(51),P=n(38);const A=i.a.lazy((()=>Promise.all([n.e(1),n.e(8)]).then(n.bind(null,155))));function C(e){return i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(f.EuiLoadingSpinner,null)},i.a.createElement(A,e))}var F=n(27);class plugin_Plugin{constructor(e){o()(this,"appUpdater$",new s.BehaviorSubject((()=>({})))),o()(this,"navigationRegistry",(()=>{const e=new s.ReplaySubject;return{registerSections:t=>{e.next(t)},sections$:e.pipe(Object(c.scan)(((e,t)=>e.add(t)),new Set),Object(c.switchMap)((e=>Object(s.combineLatest)([...e]))),Object(c.map)((e=>e.flat().sort(((e,t)=>e.sortKey-t.sortKey)))),Object(c.shareReplay)(1))}})()),o()(this,"deepLinks",[{id:"alerts",title:u.i18n.translate("xpack.observability.alertsLinkTitle",{defaultMessage:"Alerts"}),order:8001,path:"/alerts",navLinkStatus:l.AppNavLinkStatus.hidden},{id:"cases",title:u.i18n.translate("xpack.observability.casesLinkTitle",{defaultMessage:"Cases"}),order:8002,path:"/cases",navLinkStatus:l.AppNavLinkStatus.hidden}]),this.initializerContext=e,this.initializerContext=e}setup(e,t){const r=l.DEFAULT_APP_CATEGORIES.observability,i=this.initializerContext.config.get();Object(k.b)(e.http);const a=function(e){const t=[];return{register:n=>{const{format:r,...i}=n;t.push({typeId:n.id,fn:r}),e.register(i)},getFormatter:e=>{var n;return null===(n=t.find((t=>t.typeId===e)))||void 0===n?void 0:n.fn}}}(t.triggersActionsUi.ruleTypeRegistry),o=this.appUpdater$,f={appRoute:"/app/observability",category:r,deepLinks:this.deepLinks,euiIconType:"logoObservability",id:d.b,mount:async t=>{const{renderApp:r}=await Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,156)),[o,u,{navigation:s}]=await e.getStartServices();return r({config:i,core:o,plugins:u,appMountParameters:t,observabilityRuleTypeRegistry:a,ObservabilityPageTemplate:s.PageTemplate})},order:8e3,title:u.i18n.translate("xpack.observability.overviewLinkTitle",{defaultMessage:"Overview"}),updater$:o,keywords:["observability","monitor","logs","metrics","apm","performance","trace","agent","rum","user","experience"]};return e.application.register(f),t.home&&t.home.featureCatalogue.registerSolution({id:d.c,title:u.i18n.translate("xpack.observability.featureCatalogueTitle",{defaultMessage:"Observability"}),description:u.i18n.translate("xpack.observability.featureCatalogueDescription",{defaultMessage:"Consolidate your logs, metrics, application traces, and system availability with purpose-built UIs."}),icon:"logoObservability",path:"/app/observability/",order:200}),this.navigationRegistry.registerSections(Object(s.from)(o).pipe(Object(c.map)((e=>{var t,n;const r=null!==(t=null===(n=e(f))||void 0===n?void 0:n.deepLinks)&&void 0!==t?t:[];return[{label:"",sortKey:100,entries:[{label:u.i18n.translate("xpack.observability.overviewLinkTitle",{defaultMessage:"Overview"}),app:d.b,path:"/overview"},...r.filter((e=>e.navLinkStatus===l.AppNavLinkStatus.visible)).map((e=>{var t;return{app:d.b,label:e.title,path:null!==(t=e.path)&&void 0!==t?t:""}}))]}]})))),{dashboard:{register:j.b},observabilityRuleTypeRegistry:a,isAlertingExperienceEnabled:()=>i.unsafe.alertingExperience.enabled,navigation:{registerSections:this.navigationRegistry.registerSections}}}start(e,t){const{application:n}=e,a=this.initializerContext.config.get();!function({capabilities:e,config:t,deepLinks:n,updater$:r}){const{apm:i,logs:a,metrics:o,uptime:u}=e.navLinks,s=Object.values({apm:i,logs:a,metrics:o,uptime:u}).some((e=>e)),c=n.map((n=>{switch(n.id){case"cases":return{...n,navLinkStatus:t.unsafe.cases.enabled&&e[d.a].read_cases&&s?l.AppNavLinkStatus.visible:l.AppNavLinkStatus.hidden};case"alerts":return{...n,navLinkStatus:t.unsafe.alertingExperience.enabled&&s?l.AppNavLinkStatus.visible:l.AppNavLinkStatus.hidden};default:return n}}));r.next((()=>({deepLinks:c,navLinkStatus:s?l.AppNavLinkStatus.visible:l.AppNavLinkStatus.hidden})))}({capabilities:n.capabilities,config:a,deepLinks:this.deepLinks,updater$:this.appUpdater$});var o,u,s;return{navigation:{PageTemplate:(o={currentAppId$:n.currentAppId$,getUrlForApp:n.getUrlForApp,navigateToApp:n.navigateToApp,navigationSections$:this.navigationRegistry.sections$},e=>i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(b,m()({},e,o))))},createExploratoryViewUrl:F.e,ExploratoryViewEmbeddable:(u=e,s=t,e=>{const[t,n]=Object(r.useState)({}),[a,o]=Object(r.useState)(!1),c=e.attributes[0],l=u.uiSettings.get("theme:darkMode"),d=Object(r.useCallback)((async({dataType:t})=>{const r=e.dataTypesIndexPatterns;o(!0);try{const e=new T.a(s.data),i=await e.getIndexPattern(t,null==r?void 0:r[t]);n((e=>({...null!=e?e:{},[t]:i}))),o(!1)}catch(e){o(!1)}}),[e.dataTypesIndexPatterns]);return Object(r.useEffect)((()=>{d({dataType:c.dataType})}),[c.dataType,d]),0===Object.keys(t).length||a?i.a.createElement(f.EuiLoadingSpinner,null):i.a.createElement(P.EuiThemeProvider,{darkMode:l},i.a.createElement(C,m()({},e,{indexPatterns:t,lens:s.lens})))})}}}var L=n(13),R=n(18);function I({children:e}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiText,{size:"s",grow:!1},i.a.createElement("h5",null,e)),i.a.createElement(f.EuiSpacer,{size:"xs"}))}function N({children:e}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.EuiText,{size:"xs",color:"subdued",grow:!1},i.a.createElement("small",null,e)),i.a.createElement(f.EuiSpacer,{size:"s"}))}function D({children:e,...t}){return i.a.createElement(f.EuiListGroup,m()({},t,{flush:!0,bordered:!1}),e)}function q(){return i.a.createElement(f.EuiSpacer,{size:"l"})}const M=n.n(R).a.div.withConfig({displayName:"Section",componentId:"sc-63wyd6-0"})(["margin-bottom:16px;&:last-of-type{margin-bottom:0;}"]);function U(e){return i.a.createElement(f.EuiListGroupItem,m()({style:{padding:0},size:"xs"},e))}function $(){return i.a.createElement(f.EuiHorizontalRule,{margin:"s"})}function z(e){return i.a.createElement(f.EuiPopover,m()({},e,{ownFocus:!0}))}var Q=n(24),B=n(19),K=n(32),G=n(41),H=n(37),V=n(28);function W({traceId:e,rangeFrom:t,rangeTo:n}){return`/link-to/trace/${e}?`+new URLSearchParams({rangeFrom:t,rangeTo:n}).toString()}var Y=n(39);const Z=()=>({getFormatter:()=>()=>"a reason",registerFormatter:()=>{}});var J=n(30),X=n(29);const ee=e=>new plugin_Plugin(e),te=Object(r.lazy)((()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,154))))},function(e,t,n){n(61),__kbnBundles__.define("plugin/observability/public",n,59)},function(e,t,n){n.p=window.__kbnPublicPath__.observability},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEndpoint=function(e){const t=e.split(" "),n=t[0].trim().toLowerCase(),r=t[1].trim();if(!["get","post","put","delete"].includes(n))throw new Error("Endpoint was not prefixed with a valid HTTP method");return{method:n,pathname:r}}},function(e,t,n){e.exports=n(7)(2394)},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp("("+r+")|([^%]+?)","gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=u(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/timelines/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Theme},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t){e.exports=__kbnSharedDeps__.LodashFp}]);