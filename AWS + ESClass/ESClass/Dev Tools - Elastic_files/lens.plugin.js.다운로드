/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,s,a=t[0],l=t[1],r=0,p=[];r<a.length;r++)s=a[r],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(o&&o(t);p.length;)p.shift()()}var n={},i={2:0};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,s){n=i[e]=[t,s]}));t.push(n[2]=a);var l,r=document.createElement("script");r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.src=function(e){return s.p+"lens.chunk."+e+".js"}(e);var o=new Error;l=function(t){r.onerror=r.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,n[1](o)}i[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:r})}),12e4);r.onerror=r.onload=l,document.head.appendChild(r)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var a=window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var r=0;r<a.length;r++)t(a[r]);var o=l;s(s.s=36)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t,n){e.exports=n(15)(1075)},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return a})),n.d(t,"APP_ID",(function(){return l})),n.d(t,"LENS_EMBEDDABLE_TYPE",(function(){return r})),n.d(t,"DOC_TYPE",(function(){return o})),n.d(t,"NOT_INTERNATIONALIZED_PRODUCT_NAME",(function(){return p})),n.d(t,"BASE_API_URL",(function(){return c})),n.d(t,"LENS_EDIT_BY_VALUE",(function(){return u})),n.d(t,"layerTypes",(function(){return h})),n.d(t,"getBasePath",(function(){return d})),n.d(t,"getEditPath",(function(){return g})),n.d(t,"getFullPath",(function(){return y}));var i=n(35),s=n.n(i);const a="lens",l="lens",r="lens",o="lens",p="Lens Visualizations",c="/api/lens",u="edit_by_value",h={DATA:"data",REFERENCELINE:"referenceLine"};function d(){return"#/"}const f="_g";function g(e,t){let n="";return t&&(n=`?${f}=${s.a.encode({time:t})}`),e?`#/edit/${encodeURIComponent(e)}${n}`:`#/${u}${n}`}function y(e){return`/app/${a}${e?g(e):"#/"}`}},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return r}));var i=n(0);const s={name:"lens_xy_axisTitlesVisibilityConfig",aliases:[],type:"lens_xy_axisTitlesVisibilityConfig",help:"Configure the xy chart's axis titles appearance",inputTypes:["null"],args:{x:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.xAxisTitle.help",{defaultMessage:"Specifies whether or not the title of the x-axis are visible."})},yLeft:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yLeftAxisTitle.help",{defaultMessage:"Specifies whether or not the title of the left y-axis are visible."})},yRight:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yRightAxisTitle.help",{defaultMessage:"Specifies whether or not the title of the right y-axis are visible."})}},fn:function(e,t){return{type:"lens_xy_axisTitlesVisibilityConfig",...t}}},a={name:"lens_xy_axisExtentConfig",aliases:[],type:"lens_xy_axisExtentConfig",help:"Configure the xy chart's axis extents",inputTypes:["null"],args:{mode:{types:["string"],options:["full","dataBounds","custom"],help:i.i18n.translate("xpack.lens.xyChart.extentMode.help",{defaultMessage:"The extent mode"})},lowerBound:{types:["number"],help:i.i18n.translate("xpack.lens.xyChart.extentMode.help",{defaultMessage:"The extent mode"})},upperBound:{types:["number"],help:i.i18n.translate("xpack.lens.xyChart.extentMode.help",{defaultMessage:"The extent mode"})}},fn:function(e,t){return{type:"lens_xy_axisExtentConfig",...t}}},l={title:{types:["string"],help:i.i18n.translate("xpack.lens.xyChart.title.help",{defaultMessage:"The axis title"})},hide:{types:["boolean"],default:!1,help:"Show / hide axis"}},r={name:"lens_xy_yConfig",aliases:[],type:"lens_xy_yConfig",help:"Configure the behavior of a xy chart's y axis metric",inputTypes:["null"],args:{forAccessor:{types:["string"],help:"The accessor this configuration is for"},axisMode:{types:["string"],options:["auto","left","right"],help:"The axis mode of the metric"},color:{types:["string"],help:"The color of the series"},lineStyle:{types:["string"],options:["solid","dotted","dashed"],help:"The style of the reference line"},lineWidth:{types:["number"],help:"The width of the reference line"},icon:{types:["string"],help:"An optional icon used for reference lines"},iconPosition:{types:["string"],options:["auto","above","below","left","right"],help:"The placement of the icon for the reference line"},textVisibility:{types:["boolean"],help:"Visibility of the label on the reference line"},fill:{types:["string"],options:["none","above","below"],help:""}},fn:function(e,t){return{type:"lens_xy_yConfig",...t}}}},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n(0);const s="lens_heatmap_grid",a={name:s,aliases:[],type:s,help:"Configure the heatmap layout ",inputTypes:["null"],args:{strokeWidth:{types:["number"],help:i.i18n.translate("xpack.lens.heatmapChart.config.strokeWidth.help",{defaultMessage:"Specifies the grid stroke width"}),required:!1},strokeColor:{types:["string"],help:i.i18n.translate("xpack.lens.heatmapChart.config.strokeColor.help",{defaultMessage:"Specifies the grid stroke color"}),required:!1},cellHeight:{types:["number"],help:i.i18n.translate("xpack.lens.heatmapChart.config.cellHeight.help",{defaultMessage:"Specifies the grid cell height"}),required:!1},cellWidth:{types:["number"],help:i.i18n.translate("xpack.lens.heatmapChart.config.cellWidth.help",{defaultMessage:"Specifies the grid cell width"}),required:!1},isCellLabelVisible:{types:["boolean"],help:i.i18n.translate("xpack.lens.heatmapChart.config.isCellLabelVisible.help",{defaultMessage:"Specifies whether or not the cell label is visible."})},isYAxisLabelVisible:{types:["boolean"],help:i.i18n.translate("xpack.lens.heatmapChart.config.isYAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the Y-axis labels are visible."})},yAxisLabelWidth:{types:["number"],help:i.i18n.translate("xpack.lens.heatmapChart.config.yAxisLabelWidth.help",{defaultMessage:"Specifies the width of the Y-axis labels."}),required:!1},yAxisLabelColor:{types:["string"],help:i.i18n.translate("xpack.lens.heatmapChart.config.yAxisLabelColor.help",{defaultMessage:"Specifies the color of the Y-axis labels."}),required:!1},isXAxisLabelVisible:{types:["boolean"],help:i.i18n.translate("xpack.lens.heatmapChart.config.isXAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the X-axis labels are visible."})}},fn:(e,t)=>({type:s,...t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var i=n(1),s=n(0);const a="lens_heatmap_legendConfig",l={name:a,aliases:[],type:a,help:"Configure the heatmap chart's legend",inputTypes:["null"],args:{isVisible:{types:["boolean"],help:s.i18n.translate("xpack.lens.heatmapChart.legend.isVisible.help",{defaultMessage:"Specifies whether or not the legend is visible."})},position:{types:["string"],options:[i.Position.Top,i.Position.Right,i.Position.Bottom,i.Position.Left],help:s.i18n.translate("xpack.lens.heatmapChart.legend.position.help",{defaultMessage:"Specifies the legend position."})},maxLines:{types:["number"],help:s.i18n.translate("xpack.lens.heatmapChart.legend.maxLines.help",{defaultMessage:"Specifies the number of lines per legend item."})},shouldTruncate:{types:["boolean"],default:!0,help:s.i18n.translate("xpack.lens.heatmapChart.legend.shouldTruncate.help",{defaultMessage:"Specifies whether or not the legend items should be truncated."})}},fn:(e,t)=>({type:a,...t})}},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){e.exports=n(15)(1076)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s={name:"lens_xy_gridlinesConfig",aliases:[],type:"lens_xy_gridlinesConfig",help:"Configure the xy chart's gridlines appearance",inputTypes:["null"],args:{x:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.xAxisGridlines.help",{defaultMessage:"Specifies whether or not the gridlines of the x-axis are visible."})},yLeft:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yLeftAxisgridlines.help",{defaultMessage:"Specifies whether or not the gridlines of the left y-axis are visible."})},yRight:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yRightAxisgridlines.help",{defaultMessage:"Specifies whether or not the gridlines of the right y-axis are visible."})}},fn:function(e,t){return{type:"lens_xy_gridlinesConfig",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s={name:"lens_xy_labelsOrientationConfig",aliases:[],type:"lens_xy_labelsOrientationConfig",help:"Configure the xy chart's tick labels orientation",inputTypes:["null"],args:{x:{types:["number"],options:[0,-90,-45],help:i.i18n.translate("xpack.lens.xyChart.xAxisLabelsOrientation.help",{defaultMessage:"Specifies the labels orientation of the x-axis."})},yLeft:{types:["number"],options:[0,-90,-45],help:i.i18n.translate("xpack.lens.xyChart.yLeftAxisLabelsOrientation.help",{defaultMessage:"Specifies the labels orientation of the left y-axis."})},yRight:{types:["number"],options:[0,-90,-45],help:i.i18n.translate("xpack.lens.xyChart.yRightAxisLabelsOrientation.help",{defaultMessage:"Specifies the labels orientation of the right y-axis."})}},fn:function(e,t){return{type:"lens_xy_labelsOrientationConfig",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(3);const s={name:"lens_xy_layer",aliases:[],type:"lens_xy_layer",help:"Configure a layer in the xy chart",inputTypes:["null"],args:{...n(8).a,layerId:{types:["string"],help:""},xAccessor:{types:["string"],help:""},layerType:{types:["string"],options:Object.values(i.layerTypes),help:""},seriesType:{types:["string"],options:["bar","line","area","bar_stacked","area_stacked","bar_percentage_stacked","area_percentage_stacked"],help:"The type of chart to display."},xScaleType:{options:["ordinal","linear","time"],help:"The scale type of the x axis",default:"ordinal"},isHistogram:{types:["boolean"],default:!1,help:"Whether to layout the chart as a histogram"},yScaleType:{options:["log","sqrt","linear","time"],help:"The scale type of the y axes",default:"linear"},splitAccessor:{types:["string"],help:"The column to split by",multi:!1},accessors:{types:["string"],help:"The columns to display on the y axis.",multi:!0},yConfig:{types:["lens_xy_yConfig"],help:"Additional configuration for y axes",multi:!0},columnToLabel:{types:["string"],help:"JSON key-value pairs of column ID to label"},palette:{default:'{theme "palette" default={system_palette name="default"} }',help:"",types:["palette"]}},fn:function(e,t){return{type:"lens_xy_layer",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1),s=n(0);const a={name:"lens_xy_legendConfig",aliases:[],type:"lens_xy_legendConfig",help:"Configure the xy chart's legend",inputTypes:["null"],args:{isVisible:{types:["boolean"],help:s.i18n.translate("xpack.lens.xyChart.isVisible.help",{defaultMessage:"Specifies whether or not the legend is visible."})},position:{types:["string"],options:[i.Position.Top,i.Position.Right,i.Position.Bottom,i.Position.Left],help:s.i18n.translate("xpack.lens.xyChart.position.help",{defaultMessage:"Specifies the legend position."})},showSingleSeries:{types:["boolean"],help:s.i18n.translate("xpack.lens.xyChart.showSingleSeries.help",{defaultMessage:"Specifies whether a legend with just a single entry should be shown"})},isInside:{types:["boolean"],help:s.i18n.translate("xpack.lens.xyChart.isInside.help",{defaultMessage:"Specifies whether a legend is inside the chart"})},horizontalAlignment:{types:["string"],options:[i.HorizontalAlignment.Right,i.HorizontalAlignment.Left],help:s.i18n.translate("xpack.lens.xyChart.horizontalAlignment.help",{defaultMessage:"Specifies the horizontal alignment of the legend when it is displayed inside chart."})},verticalAlignment:{types:["string"],options:[i.VerticalAlignment.Top,i.VerticalAlignment.Bottom],help:s.i18n.translate("xpack.lens.xyChart.verticalAlignment.help",{defaultMessage:"Specifies the vertical alignment of the legend when it is displayed inside chart."})},floatingColumns:{types:["number"],help:s.i18n.translate("xpack.lens.xyChart.floatingColumns.help",{defaultMessage:"Specifies the number of columns when legend is displayed inside chart."})},maxLines:{types:["number"],help:s.i18n.translate("xpack.lens.xyChart.maxLines.help",{defaultMessage:"Specifies the number of lines per legend item."})},shouldTruncate:{types:["boolean"],default:!0,help:s.i18n.translate("xpack.lens.xyChart.shouldTruncate.help",{defaultMessage:"Specifies whether the legend items will be truncated or not"})}},fn:function(e,t){return{type:"lens_xy_legendConfig",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s={name:"lens_xy_tickLabelsConfig",aliases:[],type:"lens_xy_tickLabelsConfig",help:"Configure the xy chart's tick labels appearance",inputTypes:["null"],args:{x:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.xAxisTickLabels.help",{defaultMessage:"Specifies whether or not the tick labels of the x-axis are visible."})},yLeft:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yLeftAxisTickLabels.help",{defaultMessage:"Specifies whether or not the tick labels of the left y-axis are visible."})},yRight:{types:["boolean"],help:i.i18n.translate("xpack.lens.xyChart.yRightAxisTickLabels.help",{defaultMessage:"Specifies whether or not the tick labels of the right y-axis are visible."})}},fn:function(e,t){return{type:"lens_xy_tickLabelsConfig",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0),s=n(24);const a={name:"lens_xy_chart",type:"render",inputTypes:["lens_multitable","kibana_context","null"],help:i.i18n.translate("xpack.lens.xyChart.help",{defaultMessage:"An X/Y chart"}),args:{title:{types:["string"],help:"The chart title."},description:{types:["string"],help:""},xTitle:{types:["string"],help:i.i18n.translate("xpack.lens.xyChart.xTitle.help",{defaultMessage:"X axis title"})},yTitle:{types:["string"],help:i.i18n.translate("xpack.lens.xyChart.yLeftTitle.help",{defaultMessage:"Y left axis title"})},yRightTitle:{types:["string"],help:i.i18n.translate("xpack.lens.xyChart.yRightTitle.help",{defaultMessage:"Y right axis title"})},yLeftExtent:{types:["lens_xy_axisExtentConfig"],help:i.i18n.translate("xpack.lens.xyChart.yLeftExtent.help",{defaultMessage:"Y left axis extents"})},yRightExtent:{types:["lens_xy_axisExtentConfig"],help:i.i18n.translate("xpack.lens.xyChart.yRightExtent.help",{defaultMessage:"Y right axis extents"})},legend:{types:["lens_xy_legendConfig"],help:i.i18n.translate("xpack.lens.xyChart.legend.help",{defaultMessage:"Configure the chart legend."})},fittingFunction:{types:["string"],options:[...s.a.map((({id:e})=>e))],help:i.i18n.translate("xpack.lens.xyChart.fittingFunction.help",{defaultMessage:"Define how missing values are treated"})},valueLabels:{types:["string"],options:["hide","inside"],help:""},tickLabelsVisibilitySettings:{types:["lens_xy_tickLabelsConfig"],help:i.i18n.translate("xpack.lens.xyChart.tickLabelsSettings.help",{defaultMessage:"Show x and y axes tick labels"})},labelsOrientation:{types:["lens_xy_labelsOrientationConfig"],help:i.i18n.translate("xpack.lens.xyChart.labelsOrientation.help",{defaultMessage:"Defines the rotation of the axis labels"})},gridlinesVisibilitySettings:{types:["lens_xy_gridlinesConfig"],help:i.i18n.translate("xpack.lens.xyChart.gridlinesSettings.help",{defaultMessage:"Show x and y axes gridlines"})},axisTitlesVisibilitySettings:{types:["lens_xy_axisTitlesVisibilityConfig"],help:i.i18n.translate("xpack.lens.xyChart.axisTitlesSettings.help",{defaultMessage:"Show x and y axes titles"})},layers:{types:["lens_xy_layer"],help:"Layers of visual series",multi:!0},curveType:{types:["string"],options:["LINEAR","CURVE_MONOTONE_X"],help:i.i18n.translate("xpack.lens.xyChart.curveType.help",{defaultMessage:"Define how curve type is rendered for a line chart"})},fillOpacity:{types:["number"],help:i.i18n.translate("xpack.lens.xyChart.fillOpacity.help",{defaultMessage:"Define the area chart fill opacity"})},hideEndzones:{types:["boolean"],default:!1,help:i.i18n.translate("xpack.lens.xyChart.hideEndzones.help",{defaultMessage:"Hide endzone markers for partial data"})},valuesInLegend:{types:["boolean"],default:!1,help:i.i18n.translate("xpack.lens.xyChart.valuesInLegend.help",{defaultMessage:"Show values in legend"})}},fn:(e,t)=>({type:"render",as:"lens_xy_chart_renderer",value:{data:e,args:t}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s=[{id:"None",title:i.i18n.translate("xpack.lens.fittingFunctionsTitle.none",{defaultMessage:"Hide"}),description:i.i18n.translate("xpack.lens.fittingFunctionsDescription.none",{defaultMessage:"Do not fill gaps"})},{id:"Zero",title:i.i18n.translate("xpack.lens.fittingFunctionsTitle.zero",{defaultMessage:"Zero"}),description:i.i18n.translate("xpack.lens.fittingFunctionsDescription.zero",{defaultMessage:"Fill gaps with zeros"})},{id:"Linear",title:i.i18n.translate("xpack.lens.fittingFunctionsTitle.linear",{defaultMessage:"Linear"}),description:i.i18n.translate("xpack.lens.fittingFunctionsDescription.linear",{defaultMessage:"Fill gaps with a line"})},{id:"Carry",title:i.i18n.translate("xpack.lens.fittingFunctionsTitle.carry",{defaultMessage:"Last"}),description:i.i18n.translate("xpack.lens.fittingFunctionsDescription.carry",{defaultMessage:"Fill gaps with the last value"})},{id:"Lookahead",title:i.i18n.translate("xpack.lens.fittingFunctionsTitle.lookahead",{defaultMessage:"Next"}),description:i.i18n.translate("xpack.lens.fittingFunctionsDescription.lookahead",{defaultMessage:"Fill gaps with the next value"})}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s=e=>({name:"lens_datatable",type:"render",inputTypes:["lens_multitable"],help:i.i18n.translate("xpack.lens.datatable.expressionHelpLabel",{defaultMessage:"Datatable renderer"}),args:{title:{types:["string"],help:i.i18n.translate("xpack.lens.datatable.titleLabel",{defaultMessage:"Title"})},description:{types:["string"],help:""},columns:{types:["lens_datatable_column"],help:"",multi:!0},sortingColumnId:{types:["string"],help:""},sortingDirection:{types:["string"],help:""}},async fn(...t){const{datatableFn:i}=await n.e(3).then(n.bind(null,65));return i(e)(...t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={name:"lens_datatable_column",aliases:[],type:"lens_datatable_column",help:"",inputTypes:["null"],args:{columnId:{types:["string"],help:""},alignment:{types:["string"],help:""},hidden:{types:["boolean"],help:""},width:{types:["number"],help:""},isTransposed:{types:["boolean"],help:""},transposable:{types:["boolean"],help:""},colorMode:{types:["string"],help:""},palette:{types:["palette"],help:""},summaryRow:{types:["string"],help:""},summaryLabel:{types:["string"],help:""}},fn:function(e,t){return{type:"lens_datatable_column",...t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),s=n(11),a=n(12);const l={name:"lens_heatmap",type:"render",help:i.i18n.translate("xpack.lens.heatmap.expressionHelpLabel",{defaultMessage:"Heatmap renderer"}),args:{title:{types:["string"],help:i.i18n.translate("xpack.lens.heatmap.titleLabel",{defaultMessage:"Title"})},description:{types:["string"],help:""},xAccessor:{types:["string"],help:""},yAccessor:{types:["string"],help:""},valueAccessor:{types:["string"],help:""},shape:{types:["string"],help:""},palette:{default:'{theme "palette" default={system_palette name="default"} }',help:"",types:["palette"]},legend:{types:[a.a],help:i.i18n.translate("xpack.lens.heatmapChart.legend.help",{defaultMessage:"Configure the chart legend."})},gridConfig:{types:[s.a],help:i.i18n.translate("xpack.lens.heatmapChart.gridConfig.help",{defaultMessage:"Configure the heatmap layout."})}},inputTypes:["lens_multitable"],fn:(e,t)=>({type:"render",as:"lens_heatmap_renderer",value:{data:e,args:t}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(0),s=n(16);const a={name:"lens_merge_tables",type:"lens_multitable",help:i.i18n.translate("xpack.lens.functions.mergeTables.help",{defaultMessage:"A helper to merge any number of kibana tables into a single table and expose it via inspector adapter"}),args:{layerIds:{types:["string"],help:"",multi:!0},tables:{types:["datatable"],help:"",multi:!0}},inputTypes:["kibana_context","null"],fn(e,{layerIds:t,tables:n},i){const s={};return n.forEach(((e,n)=>{var a;s[t[n]]=e,null!=i&&null!==(a=i.inspectorAdapters)&&void 0!==a&&a.tables&&(i.inspectorAdapters.tables.allowCsvExport=!0,i.inspectorAdapters.tables.logDatatable(t[n],e))})),{type:"lens_multitable",tables:s,dateRange:l(e)}}};function l(e){if(!e||!e.timeRange)return;const t=Object(s.toAbsoluteDates)(e.timeRange);return t?{fromDate:t.from,toDate:t.to}:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s={name:"lens_rename_columns",type:"datatable",help:i.i18n.translate("xpack.lens.functions.renameColumns.help",{defaultMessage:"A helper to rename the columns of a datatable"}),args:{idMap:{types:["string"],help:i.i18n.translate("xpack.lens.functions.renameColumns.idMap.help",{defaultMessage:"A JSON encoded object in which keys are the old column ids and values are the corresponding new ones. All other columns ids are kept."})}},inputTypes:["datatable"],async fn(...e){const{renameColumnFn:t}=await n.e(7).then(n.bind(null,61));return t(...e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1),s=n(0);const a={name:"lens_pie",type:"render",help:s.i18n.translate("xpack.lens.pie.expressionHelpLabel",{defaultMessage:"Pie renderer"}),args:{title:{types:["string"],help:"The chart title."},description:{types:["string"],help:""},groups:{types:["string"],multi:!0,help:""},metric:{types:["string"],help:""},shape:{types:["string"],options:["pie","donut","treemap"],help:""},hideLabels:{types:["boolean"],help:""},numberDisplay:{types:["string"],options:["hidden","percent","value"],help:""},categoryDisplay:{types:["string"],options:["default","inside","hide"],help:""},legendDisplay:{types:["string"],options:["default","show","hide"],help:""},nestedLegend:{types:["boolean"],help:""},legendMaxLines:{types:["number"],help:""},truncateLegend:{types:["boolean"],help:""},legendPosition:{types:["string"],options:[i.Position.Top,i.Position.Right,i.Position.Bottom,i.Position.Left],help:""},percentDecimals:{types:["number"],help:""},palette:{default:'{theme "palette" default={system_palette name="default"} }',help:"",types:["palette"]}},inputTypes:["lens_multitable"],fn:(e,t)=>({type:"render",as:"lens_pie_renderer",value:{data:e,args:t}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={name:"lens_format_column",type:"datatable",help:"",args:{format:{types:["string"],help:"",required:!0},columnId:{types:["string"],help:"",required:!0},decimals:{types:["number"],help:""},parentFormat:{types:["string"],help:""}},inputTypes:["datatable"],async fn(...e){const{formatColumnFn:t}=await n.e(5).then(n.bind(null,62));return t(...e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0);const s={name:"lens_counter_rate",type:"datatable",inputTypes:["datatable"],help:i.i18n.translate("xpack.lens.functions.counterRate.help",{defaultMessage:"Calculates the counter rate of a column in a data table"}),args:{by:{help:i.i18n.translate("xpack.lens.functions.counterRate.args.byHelpText",{defaultMessage:"Column to split the counter rate calculation by"}),multi:!0,types:["string"],required:!1},inputColumnId:{help:i.i18n.translate("xpack.lens.functions.counterRate.args.inputColumnIdHelpText",{defaultMessage:"Column to calculate the counter rate of"}),types:["string"],required:!0},outputColumnId:{help:i.i18n.translate("xpack.lens.functions.counterRate.args.outputColumnIdHelpText",{defaultMessage:"Column to store the resulting counter rate in"}),types:["string"],required:!0},outputColumnName:{help:i.i18n.translate("xpack.lens.functions.counterRate.args.outputColumnNameHelpText",{defaultMessage:"Name of the column to store the resulting counter rate in"}),types:["string"],required:!1}},async fn(...e){const{counterRateFn:t}=await n.e(6).then(n.bind(null,63));return t(...e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>({name:"lens_time_scale",type:"datatable",help:"",args:{dateColumnId:{types:["string"],help:"",required:!0},inputColumnId:{types:["string"],help:"",required:!0},outputColumnId:{types:["string"],help:"",required:!0},outputColumnName:{types:["string"],help:""},targetUnit:{types:["string"],options:["s","m","h","d"],help:"",required:!0}},inputTypes:["datatable"],async fn(...t){const{timeScaleFn:i}=await n.e(8).then(n.bind(null,64));return i(e)(...t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={name:"lens_metric_chart",type:"render",help:"A metric chart",args:{title:{types:["string"],help:"The chart title."},description:{types:["string"],help:""},metricTitle:{types:["string"],help:"The title of the metric shown."},accessor:{types:["string"],help:"The column whose value is being displayed"},mode:{types:["string"],options:["reduced","full"],default:"full",help:"The display mode of the chart - reduced will only show the metric itself without min size"}},inputTypes:["lens_multitable"],fn:(e,t)=>({type:"render",as:"lens_metric_chart_renderer",value:{data:e,args:t}})}},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){n(37),__kbnBundles__.define("plugin/lens/public",n,38),__kbnBundles__.define("plugin/lens/common/constants",n,3)},function(e,t,n){n.p=window.__kbnPublicPath__.lens},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return H}));var i=n(2),s=n.n(i),a=n(9),l=n(10),r=n(5),o=n(3),p=n(0);const c=(e,t)=>{const n=e;if("attributes"in n&&void 0!==n.attributes){const e=[];Array.isArray(n.attributes.references)&&n.attributes.references.forEach((n=>{const i=n,s=t.find((e=>e.name===i.name));s&&e.push(s)})),n.attributes.references=e}return n},u=e=>{let t=[];const n=e;return"attributes"in n&&void 0!==n.attributes&&(t=n.attributes.references),{state:e,references:t}};class embeddable_factory_EmbeddableFactory{constructor(e){s()(this,"type",o.DOC_TYPE),s()(this,"savedObjectMetaData",{name:p.i18n.translate("xpack.lens.lensSavedObjectLabel",{defaultMessage:"Lens Visualization"}),type:o.DOC_TYPE,getIconForSavedObject:()=>"lensApp"}),s()(this,"isEditable",(async()=>{var e;const{capabilities:t}=await this.getStartServices();return Boolean(t.visualize.save||(null===(e=t.dashboard)||void 0===e?void 0:e.showWriteControls))})),s()(this,"createFromSavedObject",(async(e,t,n)=>(t.savedObjectId||(t.savedObjectId=e),this.create(t,n)))),s()(this,"extract",u),s()(this,"inject",c),this.getStartServices=e}canCreateNew(){return!1}getDisplayName(){return p.i18n.translate("xpack.lens.embeddableDisplayName",{defaultMessage:"lens"})}async create(e,t){var i;const{timefilter:s,expressionRenderer:a,documentToExpression:l,uiActions:r,coreHttp:o,attributeService:p,indexPatternService:c,capabilities:u,usageCollection:h,inspector:d,spaces:f}=await this.getStartServices(),{Embeddable:g}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,528));return new g({attributeService:p,indexPatternService:c,timefilter:s,inspector:d,expressionRenderer:a,basePath:o.basePath,getTrigger:null==r?void 0:r.getTrigger,getTriggerCompatibleActions:null==r?void 0:r.getTriggerCompatibleActions,documentToExpression:l,capabilities:{canSaveDashboards:Boolean(null===(i=u.dashboard)||void 0===i?void 0:i.showWriteControls),canSaveVisualizations:Boolean(u.visualize.save)},usageCollection:h,spaces:f},e,t)}}var h=n(6),d=n.n(h),f=n(7),g=n(4);const y=({embeddable:e,uiActions:t,actionPredicate:n,inspector:i,input:s})=>(Object(h.useEffect)((()=>{e.updateInput(s)}),[e,s]),Object(g.jsx)(a.EmbeddablePanel,{hideHeader:!1,embeddable:e,getActions:t.getTriggerCompatibleActions,inspector:i,actionPredicate:n,showShadow:!1,showBadges:!1,showNotifications:!1}));var b=n(14),x=n.n(b);const m=d.a.lazy((()=>n.e(0).then(n.bind(null,110))));function _(){return Object(g.jsx)(f.EuiOverlayMask,null,Object(g.jsx)(f.EuiLoadingSpinner,null))}const v=e=>Object(g.jsx)(h.Suspense,{fallback:Object(g.jsx)(_,null)},Object(g.jsx)(m,e));function k(e,t){return i=>{const[s,a]=Object(h.useState)();if(Object(h.useEffect)((()=>{!async function(){const{getLensServices:i,getLensAttributeService:s}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,528)),l=await i(e,t,s(e,t));a(l)}()}),[]),!s)return Object(g.jsx)(_,null);const{ContextProvider:l}=s.presentationUtil;return Object(g.jsx)(f.EuiOverlayMask,null,Object(g.jsx)(l,null,Object(g.jsx)(v,x()({},i,{lensServices:s}))))}}var C=n(17),T=n(8),S=n(18),w=n(19),O=n(20),A=n(21),M=n(22),L=n(23),P=n(25),E=n(26),j=n(27),D=n(11),I=n(12),R=n(28),F=n(29),V=n(30),z=n(31),N=n(32),B=n(33),U=n(34);var q=n(13);class plugin_LensPlugin{constructor(){s()(this,"datatableVisualization",void 0),s()(this,"editorFrameService",void 0),s()(this,"indexpatternDatasource",void 0),s()(this,"xyVisualization",void 0),s()(this,"metricVisualization",void 0),s()(this,"pieVisualization",void 0),s()(this,"heatmapVisualization",void 0),s()(this,"stopReportManager",void 0)}setup(e,{urlForwarding:t,expressions:i,data:s,fieldFormats:a,embeddable:r,visualizations:c,charts:u,globalSearch:h,usageCollection:d}){const f=Object(C.createStartServicesGetter)(e.getStartServices),g=async()=>{const{getLensAttributeService:t}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,528)),{core:l,plugins:r}=f();return await this.initParts(e,s,u,i,a,r.fieldFormats.deserialize),{attributeService:t(l,r),capabilities:l.application.capabilities,coreHttp:l.http,timefilter:r.data.query.timefilter.timefilter,expressionRenderer:r.expressions.ReactExpressionRenderer,documentToExpression:this.editorFrameService.documentToExpression,indexPatternService:r.data.indexPatterns,uiActions:r.uiActions,usageCollection:d,inspector:r.inspector,spaces:r.spaces}};r&&r.registerEmbeddableFactory("lens",new embeddable_factory_EmbeddableFactory(g)),c.registerAlias({aliasPath:Object(o.getBasePath)(),aliasApp:"lens",name:"lens",promotion:!0,title:p.i18n.translate("xpack.lens.visTypeAlias.title",{defaultMessage:"Lens"}),description:p.i18n.translate("xpack.lens.visTypeAlias.description",{defaultMessage:"Create visualizations with our drag and drop editor. Switch between visualization types at any time."}),note:p.i18n.translate("xpack.lens.visTypeAlias.note",{defaultMessage:"Recommended for most users."}),icon:"lensApp",stage:"production",appExtensions:{visualizations:{docTypes:["lens"],searchFields:["title^3"],toListItem(e){const{id:t,type:n,attributes:i}=e,{title:s,description:a}=i;return{id:t,title:s,description:a,editUrl:Object(o.getEditPath)(t),editApp:"lens",icon:"lensApp",stage:"production",savedObjectType:n,type:"lens",typeTitle:p.i18n.translate("xpack.lens.visTypeAlias.type",{defaultMessage:"Lens"})}}}}}),((e,t,n)=>{[V.a,L.a,R.a,N.a,U.a,T.d,O.a,z.a,A.a,F.a,S.a,E.a,M.a,T.c,j.a,I.b,D.b,T.b,w.a,Object(P.a)(t),Object(B.a)(n)].forEach((t=>e.registerFunction(t)))})(i,(()=>f().plugins.fieldFormats.deserialize),(async()=>{const{getTimeZone:t}=await n.e(9).then(n.bind(null,74));return t(e.uiSettings)}));const y=()=>f().plugins.presentationUtil.ContextProvider;var b;e.application.register({id:o.APP_ID,title:o.NOT_INTERNATIONALIZED_PRODUCT_NAME,navLinkStatus:l.AppNavLinkStatus.hidden,mount:async t=>{const{core:l,plugins:r}=f();await this.initParts(e,s,u,i,a,r.fieldFormats.deserialize);const{mountApp:o,stopReportManager:p,getLensAttributeService:c}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,528)),h=this.editorFrameService.start(l,r);return this.stopReportManager=p,await(async()=>{await f().plugins.data.indexPatterns.ensureDefaultDataView()})(),o(e,t,{createEditorFrame:h.createInstance,attributeService:c(l,r),getPresentationUtilContext:y})}}),h&&h.registerResultProvider((b=e.getStartServices().then((([{application:{capabilities:e}}])=>e)),{id:"lens",find:({term:e="",types:t,tags:n})=>n||t&&!t.includes("application")?Object(q.of)([]):Object(q.from)(b.then((({navLinks:{visualize:t}})=>{if(!t)return[];const n=p.i18n.translate("xpack.lens.searchTitle",{defaultMessage:"Lens: create visualizations",description:"Lens is a product name and should not be translated"}),i=n.toLowerCase();let s=0;return i===(e=e.toLowerCase())?s=100:i.startsWith(e)?s=90:i.includes(e)&&(s=75),0===s?[]:[{id:"lens",title:n,type:"application",icon:"logoKibana",meta:{categoryId:l.DEFAULT_APP_CATEGORIES.kibana.id,categoryLabel:l.DEFAULT_APP_CATEGORIES.kibana.label},score:s,url:Object(o.getFullPath)()}]}))),getSearchableTypes:()=>["application"]})),t.forwardApp("lens","lens")}async initParts(e,t,i,s,a,l){const{DatatableVisualization:r,EditorFrameService:o,IndexPatternDatasource:p,XyVisualization:c,MetricVisualization:u,PieVisualization:h,HeatmapVisualization:d}=await Promise.all([n.e(0),n.e(1)]).then(n.bind(null,528));this.datatableVisualization=new r,this.editorFrameService=new o,this.indexpatternDatasource=new p,this.xyVisualization=new c,this.metricVisualization=new u,this.pieVisualization=new h,this.heatmapVisualization=new d;const f={expressions:s,data:t,fieldFormats:a,charts:i,editorFrame:this.editorFrameService.setup(),formatFactory:l};this.indexpatternDatasource.setup(e,f),this.xyVisualization.setup(e,f),this.datatableVisualization.setup(e,f),this.metricVisualization.setup(e,f),this.pieVisualization.setup(e,f),this.heatmapVisualization.setup(e,f)}start(e,t){var i,s;return t.uiActions.hasAction(r.ACTION_VISUALIZE_FIELD)&&t.uiActions.unregisterAction(r.ACTION_VISUALIZE_FIELD),t.uiActions.addTriggerAction(r.VISUALIZE_FIELD_TRIGGER,(i=e.application,Object(r.createAction)({type:r.ACTION_VISUALIZE_LENS_FIELD,id:r.ACTION_VISUALIZE_LENS_FIELD,getDisplayName:()=>p.i18n.translate("xpack.lens.discover.visualizeFieldLegend",{defaultMessage:"Visualize field"}),isCompatible:async()=>!!i.capabilities.visualize.show,execute:async e=>{i.navigateToApp("lens",{state:{type:r.ACTION_VISUALIZE_LENS_FIELD,payload:e}})}}))),{EmbeddableComponent:(s=t,e=>{const{embeddable:t,uiActions:n,inspector:i}=s,l=t.getEmbeddableFactory("lens"),r={...e},[o,p,c]=Object(a.useEmbeddableFactory)({factory:l,input:r}),u=!0===e.withActions;return p?Object(g.jsx)(f.EuiLoadingChart,null):o&&u?Object(g.jsx)(y,{embeddable:o,uiActions:n,inspector:i,actionPredicate:()=>u,input:r}):Object(g.jsx)(a.EmbeddableRoot,{embeddable:o,loading:p,error:c,input:r})}),SaveModalComponent:k(e,t),navigateToPrefilledEditor:(n,{openInNewTab:i=!1,originatingApp:s="",originatingPath:l}={})=>{null!=n&&n.timeRange&&!i&&t.data.query.timefilter.timefilter.setTime(n.timeRange);new a.EmbeddableStateTransfer(e.application.navigateToApp,e.application.currentAppId$).navigateToEditor(o.APP_ID,{openInNewTab:i,path:Object(o.getEditPath)(void 0,i&&(null==n?void 0:n.timeRange)||void 0),state:{originatingApp:s,originatingPath:l,valueInput:n}})},canUseEditor:()=>{var t;return Boolean(null===(t=e.application.capabilities.visualize)||void 0===t?void 0:t.show)},getXyVisTypes:async()=>{const{visualizationTypes:e}=await n.e(4).then(n.bind(null,75));return e}}}stop(){this.stopReportManager&&this.stopReportManager()}}const H=()=>new plugin_LensPlugin},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.Theme},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/expressions/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/share/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}]);