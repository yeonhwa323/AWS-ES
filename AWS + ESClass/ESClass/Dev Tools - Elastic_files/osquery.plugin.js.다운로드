/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function n(n){for(var t,o,i=n[0],s=n[1],u=0,c=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);for(a&&a(n);c.length;)c.shift()()}var t={},r={2:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=i);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(e){return o.p+"osquery.chunk."+e+".js"}(e);var a=new Error;s=function(n){u.onerror=u.onload=null,clearTimeout(c);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,t[1](a)}r[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(n)},o.m=e,o.c=t,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.osquery_bundle_jsonpfunction=window.osquery_bundle_jsonpfunction||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var u=0;u<i.length;u++)n(i[u]);var a=s;o(o.s=8)}([function(e,n){e.exports=__kbnSharedDeps__.React},function(e,n,t){"use strict";t.r(n),t.d(n,"PLUGIN_ID",(function(){return o})),t.d(n,"PLUGIN_NAME",(function(){return i}));var r=t(2);t.d(n,"DEFAULT_DARK_MODE",(function(){return r.b})),t.d(n,"OSQUERY_INTEGRATION_NAME",(function(){return r.c})),t.d(n,"BASE_PATH",(function(){return r.a}));const o="osquery",i="Osquery"},function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));const r="theme:darkMode",o="osquery_manager",i="/app/osquery"},function(e,n,t){e.exports=t(5)(1075)},function(e,n,t){e.exports=t(5)(1076)},function(e,n){e.exports=__kbnSharedDeps_npm__},function(e,n,t){t.r(n);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t(9),__kbnBundles__.define("plugin/osquery/public",t,10),__kbnBundles__.define("plugin/osquery/common",t,1)},function(e,n,t){t.p=window.__kbnPublicPath__.osquery},function(e,n,t){"use strict";t.r(n),t.d(n,"plugin",(function(){return b}));var r=t(3),o=t.n(r),i=t(6),s=t(7),u=t(1),a=t(0),c=t.n(a);const p=Object(a.lazy)((async()=>{const{OsqueryManagedPolicyCreateImportExtension:e}=await t.e(1).then(t.bind(null,167));return{default:e}})),_=Object(a.lazy)((async()=>{const{OsqueryManagedPolicyCreateImportExtension:e}=await t.e(1).then(t.bind(null,167));return{default:e}})),l=Object(a.lazy)((async()=>{const{OsqueryManagedCustomButtonExtension:e}=await t.e(4).then(t.bind(null,164));return{default:e}}));var f=t(4),d=t.n(f);class plugin_OsqueryPlugin{constructor(e){o()(this,"kibanaVersion",void 0),o()(this,"storage",new s.Storage(localStorage)),this.initializerContext=e,this.kibanaVersion=this.initializerContext.env.packageInfo.version}setup(e){if(!this.initializerContext.config.get().enabled)return{};const n=this.storage,r=this.kibanaVersion;return e.application.register({id:"osquery",title:u.PLUGIN_NAME,order:9030,category:i.DEFAULT_APP_CATEGORIES.management,async mount(o){const[i,s]=await e.getStartServices(),{renderApp:u}=await Promise.all([t.e(0),t.e(3)]).then(t.bind(null,166));return u(i,s,o,n,r)}}),{}}start(e,n){if(!this.initializerContext.config.get().enabled)return{};if(n.fleet){const{registerExtension:e}=n.fleet;e({package:u.OSQUERY_INTEGRATION_NAME,view:"package-policy-create",Component:p}),e({package:u.OSQUERY_INTEGRATION_NAME,view:"package-policy-edit",Component:_}),e({package:u.OSQUERY_INTEGRATION_NAME,view:"package-detail-custom",Component:l})}return{OsqueryAction:(r={...e,...n,storage:this.storage,kibanaVersion:this.kibanaVersion},e=>{const n=Object(a.lazy)((()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,165))));return c.a.createElement(a.Suspense,{fallback:null},c.a.createElement(n,d()({services:r},e)))})};var r}stop(){}}function b(e){return new plugin_OsqueryPlugin(e)}},function(e,n){e.exports=__kbnSharedDeps__.ElasticEui},function(e,n){e.exports=__kbnSharedDeps__.KbnI18n},function(e,n){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Lodash},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.StyledComponents},function(e,n){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.LodashFp},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/fleet/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/fleet/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ReactDom},function(e,n){e.exports=__kbnSharedDeps__.TsLib},function(e,n){e.exports=__kbnSharedDeps__.Theme},function(e,n){e.exports=__kbnSharedDeps__.RisonNode},function(e,n){e.exports=__kbnSharedDeps__.SaferLodashSet}]);